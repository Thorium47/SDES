<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
  </head>
  <body>
            
  <div class="section" id="advanced-python">
<h1>Advanced Python<a class="headerlink" href="#advanced-python" title="Permalink to this headline">¶</a></h1>
<div class="section" id="interactive-plotting">
<h2>Interactive Plotting<a class="headerlink" href="#interactive-plotting" title="Permalink to this headline">¶</a></h2>
<p>We have looked at the basics of Python. In this section we shall look at the
basics of plotting.</p>
<p>Lets start our IPython interpreter, by</p>
<div class="highlight-python"><pre>$ ipython -pylab</pre>
</div>
<p>Pylab is a python library which provides plotting functionality. It also
provides many other important mathematical and scientific functions. After
running <tt class="docutils literal"><span class="pre">ipython</span> <span class="pre">-pylab</span></tt> in your shell if at the top of the output, you see
something like</p>
<div class="highlight-python"><pre>`ERROR: matplotlib could NOT be imported! Starting normal IPython.`</pre>
</div>
<p>Then you have to install <tt class="docutils literal"><span class="pre">python-matplotlib</span></tt> and run this command again.</p>
<p>Let us get started directly and try plotting a cosine curve in the range -pi
to pi.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">cos</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
</pre></div>
</div>
<p>As you can see we have obtained a cosine curve in the required range. Let&#8217;s
try and understand what we have done here.</p>
<p>The variable <tt class="docutils literal"><span class="pre">p</span></tt> has a hundred points in the range -pi to pi. To see this,
check the documentation of the linspace command.</p>
<div class="highlight-python"><pre>linspace?</pre>
</div>
<p>As you can see, it returns <tt class="docutils literal"><span class="pre">num</span></tt> evenly spaced samples, calculated over the
interval start and stop.</p>
<p>You can verify this, by looking at the first and last points of <tt class="docutils literal"><span class="pre">p</span></tt> and the
length of <tt class="docutils literal"><span class="pre">p</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, let&#8217;s clear the plot we obtained and plot a sine curve in the same
range.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">clf</span><span class="p">()</span>
<span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">clf</span></tt> command clears the plot, and the plot command following it, plots the
required curve.</p>
<p>Let&#8217;s briefly explore the plot window and look at what features it has.</p>
<p>Firstly, note that moving the mouse around gives us the point where mouse
points at.</p>
<p>Also we have some buttons the right most among them is for saving the file.</p>
<p>Left to the save button is the slider button to specify the margins.</p>
<p>Left to this is zoom button to zoom into the plot. Just specify the region to
zoom into.</p>
<p>The button left to it can be used to move the axes of the plot.</p>
<p>The next two buttons with a left and right arrow icons change the state of
the plot and take it to the previous state it was in. It more or less acts
like a back and forward button in the browser.</p>
<p>The last one is &#8216;home&#8217;, which returns the plot to the original view.</p>
</div>
<div class="section" id="embellishing-plots">
<h2>Embellishing Plots<a class="headerlink" href="#embellishing-plots" title="Permalink to this headline">¶</a></h2>
<p>Now that we know how to make simple plots, let us look at embellishing the
plots. We shall look at how to modify the colour, thickness and line-style of
a plot. We shall then learn how to add title to a plot and then look at
adding labels to x and y axes. We shall also look at adding annotations to the plot and setting the limits on the axes.</p>
<p>Let us decorate the sine curve that we have already plotted. If you have closed that window or your IPython terminal, redo the plot.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
</pre></div>
</div>
<p>As we can see, the default colour and the default thickness of the line is as
decided by pylab. Wouldn&#8217;t it be nice if we could control these parameters in
the plot? This is possible by passing additional arguments to the plot
command.</p>
<p>The additional argument that we shall be passing in here now is the color
argument. We shall first clear the figure and plot the same in red color.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">clf</span><span class="p">()</span>
<span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>As we can see we have the same plot but now in red color.</p>
<p>To alter the thickness of the line, we use the <tt class="docutils literal"><span class="pre">linewidth</span></tt> argument
in the plot command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">cos</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>produces a plot with a thicker line, to be more precise plot with line
thickness 2.</p>
<p>Occasionally we would also want to alter the style of line. Sometimes all we
want is just a bunch of points not joined. This is possible by passing the
linestyle argument along with or instead of the colour argument.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">clf</span><span class="p">()</span>
<span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>produces a plot with only points.</p>
<p>To produce the same plot but now in blue colour, we do</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">clf</span><span class="p">()</span>
<span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;b.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other available options can be seen in the documentation of plot.</p>
<div class="highlight-python"><pre>plot?</pre>
</div>
<p>Now that we know how to produce a bare minimum plot with colour, style and
thickness of our interest, we shall look at decorating the plot.</p>
<p>Let us start with a plot of the function -x^2 + 4x - 5 in the range -2 to 4.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>We now have the plot in a colour and linewidth of our interest. As you can
see, the figure does not have any description describing the plot.</p>
<p>We will now add a title to the plot by using the <tt class="docutils literal"><span class="pre">title</span></tt> command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">title</span><span class="p">(</span><span class="s">&quot;Parabolic function -x^2+4x-5&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The figure now has a title which describes what the plot is. The <tt class="docutils literal"><span class="pre">title</span></tt>
command as you can see, takes a string as an argument and sets the title
accordingly.</p>
<p>The formatting in title is messed and it does not look clean. You can imagine
what would be the situation if there were fractions and more complex
functions like log and exp. Wouldn&#8217;t it be good if there was LaTeX like
formatting?</p>
<p>That is also possible by adding a $ sign before and after the part of the
string that should be in LaTeX style. For instance,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">title</span><span class="p">(</span><span class="s">&quot;Parabolic function $-x^2+4x-5$&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>gives us the polynomial formatted properly.</p>
<p>Although we have title, the plot is not complete without labelling x and y
axes. Hence we shall label x-axis to &#8220;x&#8221; and y-axis to &#8220;f(x)&#8221;</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xlabel</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see, <tt class="docutils literal"><span class="pre">xlabel</span></tt> command takes a string as an argument,
similar to the <tt class="docutils literal"><span class="pre">title</span></tt> command and sets it as the label to x-axis.</p>
<p>Similarly,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ylabel</span><span class="p">(</span><span class="s">&quot;f(x)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>sets the name of the y-axis as &#8220;f(x)&#8221;</p>
<p>Let us now see how to name or annotate a point on the plot. For example the
point (2, -1) is the local maxima. We would like to name the point
accordingly. We can do this by using</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">annotate</span><span class="p">(</span><span class="s">&quot;local maxima&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>As you can see, the first argument to <tt class="docutils literal"><span class="pre">annotate</span></tt> command is the name we
would like to mark the point as and the second argument is the co-ordinates
of the point at which the name should appear. It is a sequence containing two
numbers. The first is x co-ordinate and second is y co-ordinate.</p>
<p>As we can see, every annotate command makes a new annotation on the figure.</p>
<p>Now we have everything we need to decorate a plot. But, it would be nice to
change the limits of the plot area, so that it looks better.</p>
<p>We shall look at how to get and set them from the script. We shall first get
the existing limits and then change them as required.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xlim</span><span class="p">()</span>
<span class="n">ylim</span><span class="p">()</span>
</pre></div>
</div>
<p>We see that <tt class="docutils literal"><span class="pre">xlim</span></tt> function returns the current x axis limits and ylim
function returns the current y-axis limits.</p>
<p>Let us look at how to set the limits.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>We see the limits of x-axis are now set to -4 and 5.</p>
<p>Similarly</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>sets the limits of y-axis appropriately.</p>
</div>
<div class="section" id="saving-to-scripts">
<h2>Saving to Scripts<a class="headerlink" href="#saving-to-scripts" title="Permalink to this headline">¶</a></h2>
<p>While we are at it, let&#8217;s look at how to save all the things we typed into
our interpreter into scripts that can be used anytime we like.</p>
<p>Let&#8217;s now look at the history of the commands we have typed. The history can
be retreived by using <tt class="docutils literal"><span class="pre">%hist</span></tt> command.</p>
<div class="highlight-python"><pre>%hist</pre>
</div>
<p>As you can see, it displays a list of recent commands that we typed. Every
command has a number in front, to specify in which order and when it was
typed.</p>
<p>Please note that there is a % sign before the hist command. This implies that
<tt class="docutils literal"><span class="pre">%hist</span></tt> is a command that is specific to IPython and not available in the
vanilla Python interpreter. These type of commands are called as magic
commands.</p>
<p>Also note that, the <tt class="docutils literal"><span class="pre">%hist</span></tt> itself is a command and is displayed as the
most recent command. We should note that anything we type in is stored as
history, irrespective of whether it is a valid command or an error or an
IPython magic command.</p>
<p>If we want only the recent 5 commands to be displayed, we pass the number as
an argument to <tt class="docutils literal"><span class="pre">%hist</span></tt> command.</p>
<div class="highlight-python"><pre>%hist 5</pre>
</div>
<p>displays the recent 5 commands, inclusive of the <tt class="docutils literal"><span class="pre">%hist</span></tt> command. The
default number is 40.</p>
<p>To list all the commands between 5 and 10, type</p>
<div class="highlight-python"><pre>%hist 5-10</pre>
</div>
<p>Now that we have the history, we would like to save the required lines of
code from history to reproduce the plot of the parabolic function. This is
possible by using the <tt class="docutils literal"><span class="pre">%save</span></tt> command.</p>
<p>Before we do that, let us first look at history and identify what lines of
code we require.</p>
<div class="highlight-python"><pre>%hist</pre>
</div>
<p>The first command is linspace. But second command is a command that gave us
an error. Hence we do not need second command. The commands from third to
sixth and eighth are required.</p>
<div class="highlight-python"><pre>%save plot_script.py 1 3-6 8</pre>
</div>
<p>The command saves first and then third to sixth and eighth lines of code into
the specified file.</p>
<p>The first argument to %save is the path of file to save the commands and the
arguments there after are the commands to be saved in the given order.</p>
<p>Now that we have the required lines of code in a file, let us learn how to
run the file as a python script. We use the IPython magic command <tt class="docutils literal"><span class="pre">%run</span></tt> to
do this.</p>
<div class="highlight-python"><pre>%run -i plot_script.py</pre>
</div>
<p>The script runs but we do not see the plot. This happens because when we are
running a script and we are not in interactive mode anymore.</p>
<p>Hence on your IPython terminal type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>to show the plot.</p>
<p>The reason for including a <tt class="docutils literal"><span class="pre">-i</span></tt> after <tt class="docutils literal"><span class="pre">run</span></tt> is to tell the interpreter
that if any name is not found in script, search for it in the interpreter.
Hence all these <tt class="docutils literal"><span class="pre">sin</span></tt>, <tt class="docutils literal"><span class="pre">plot</span></tt>, <tt class="docutils literal"><span class="pre">pi</span></tt> and <tt class="docutils literal"><span class="pre">show</span></tt> which are not
available in script, are taken from the interpreter and used to run the
script.</p>
</div>
<div class="section" id="saving-plots">
<h2>Saving Plots<a class="headerlink" href="#saving-plots" title="Permalink to this headline">¶</a></h2>
<p>Let us now learn to save the plots, from the command line, in different
formats.</p>
<p>Let us plot a sine curve from minus 3pi to 3pi.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>As, you can see we now have a sine curve. Let&#8217;s now see how to save the plot.</p>
<p>For saving the plot, we will use <tt class="docutils literal"><span class="pre">savefig()</span></tt> function, and it has to be
done with the plot window open. The statement is,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;sine.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that <tt class="docutils literal"><span class="pre">savefig</span></tt> function takes one argument which is the filename.
The last 3 characters after the <tt class="docutils literal"><span class="pre">.</span></tt> in the filename is the extension or
type of the file which determines the format in which you want to save.</p>
<p>Also, note that we gave the full path or the absolute path to which we
want to save the file.</p>
<p>Here we have used an extension <tt class="docutils literal"><span class="pre">.png</span></tt> which means the plot gets saved as a
PNG image.</p>
<p>You can check file which has been saved as <tt class="docutils literal"><span class="pre">sine.png</span></tt></p>
<p><tt class="docutils literal"><span class="pre">savefig</span></tt> can save the plot in many formats, such as pdf, ps, eps, svg and
png.</p>
</div>
<div class="section" id="multiple-plots">
<h2>Multiple Plots<a class="headerlink" href="#multiple-plots" title="Permalink to this headline">¶</a></h2>
<p>Let us now learn, how to draw more than one plot, how to add legends to each
plot to indicate what each plot represents. We will also learn how to switch
between the plots and create multiple plots with different regular axes which
are also called as subplots.</p>
<p>Let us first create set of points for our plot. For this we will use the
command called linspace:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>As we know, x has 10 points in the interval between 0 and 50 both inclusive.</p>
<p>Now let us draw a plot simple sine plot using these points</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>This should give us a nice sine plot.</p>
<p>Oh! wait! It isn&#8217;t as nice, as we expected. The curve isn&#8217;t very smooth, why?
In the <tt class="docutils literal"><span class="pre">linspace</span></tt> command, we chose too few points in a large interval
between 0 and 50 for the curve to be smooth. So now let us use linspace again
to get 500 points between 0 and 50 and draw the sine plot</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>Now we see a smooth curve. We can also see that, we have two plots, one
overlaid upon another. Pylab overlays plots by default.</p>
<p>Since, we have two plots now overlaid upon each other we would like to have a
way to indicate what each plot represents to distinguish between them. This
is accomplished using legends. Equivalently, the legend command does this for
us</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">legend</span><span class="p">([</span><span class="s">&#39;sine-10 points&#39;</span><span class="p">,</span> <span class="s">&#39;sine-500 points&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Now we can see the legends being displayed for the respective plots. The
legend command takes a single list of parameters where each parameter is the
text indicating the plots in the order of their serial number.</p>
<p>Additionally, we could give the <tt class="docutils literal"><span class="pre">legend</span></tt> command an additional argument to
choose the location of the placement, manually. By default, <tt class="docutils literal"><span class="pre">pylab</span></tt> places
it in the location it thinks is the best. The example below, places it in the
center of the plot. Look at the doc-string of <tt class="docutils literal"><span class="pre">legend</span></tt> for other locations.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">legend</span><span class="p">([</span><span class="s">&#39;sine-10 points&#39;</span><span class="p">,</span> <span class="s">&#39;sine-500 points&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We now know how to draw multiple plots and use legends to indicate which plot
represents what function, but we would like to have more control over the
plots we draw. Like plot them in different windows, switch between them,
perform some operations or labeling on them individually and so on. Let us
see how to accomplish this. Before we move on, let us clear our screen.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">clf</span><span class="p">()</span>
</pre></div>
</div>
<p>To accomplishing this, we use the figure command</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="n">figure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s">&#39;g&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have two plots, a sine plot and a cosine plot in two different
figures.</p>
<p>The figure command takes an integer as an argument which is the serial number
of the plot. This selects the corresponding plot. All the plot commands we
run after this are applied to the selected plot. In this example figure 1 is
the sine plot and figure 2 is the cosine plot. We can, for example, save each
plot separately</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;cosine.png&#39;</span><span class="p">)</span>
<span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">title</span><span class="p">(</span><span class="s">&#39;sin(y)&#39;</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">&#39;sine.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We also titled our first plot as &#8216;sin(y)&#8217; which we did not do for the second
plot.</p>
<p>Let us now do the following. Draw a line of the form y = x as one figure and
another line of the form y = 2x + 3. Switch back to the first figure,
annotate the x and y intercepts. Now switch to the second figure and annotate
its x and y intercepts. Save each of them.</p>
<p>To solve this problem we should first create the first figure using
the figure command. Before that, let us first run clf command to make
sure all the previous plots are cleared</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">clf</span><span class="p">()</span>
<span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can use figure command to create second plotting area and plot
the figure</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">figure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Now to switch between the figures we can use figure command. So let us
switch to figure 1. We are asked to annotate x and y intercepts of the
figure 1 but since figure 1 passes through origin we will have to
annotate the origin. We will annotate the intercepts for the second
figure and save them as follows</p>
<div class="highlight-python"><pre>figure(1)
annotate('Origin', xy=(0.0, 0.0)
figure(2)
annotate('x-intercept', xy=(0, 3))
annotate('y-intercept', xy=(0, -1.5))
savefig('plot2.png')
figure(1)
savefig('plot1.png')</pre>
</div>
<p>We can close the figures from the terminal by using the <tt class="docutils literal"><span class="pre">close()</span></tt> command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">close</span><span class="p">()</span>
<span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The first <tt class="docutils literal"><span class="pre">close</span></tt> command closes figure 1, and the second one closes the
figure 2. We could have also use the <tt class="docutils literal"><span class="pre">close</span></tt> command with an argument
&#8216;all&#8217;, to close all the figures.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">close</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>At times we run into situations where we want to compare two plots and in
such cases we want to draw both the plots in the same plotting area. The
situation is such that the two plots have different regular axes which means
we cannot draw overlaid plots. In such cases we can draw subplots.</p>
<p>We use subplot command to accomplish this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">subplot</span></tt> command takes three arguments, number of rows, number of columns
and the plot number, which specifies what subplot must be created now in the
order of the serial number. In this case we passed 1 as the argument, so the
first subplot that is top half is created. If we execute the subplot command
as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>the lower subplot is created. Now we can draw plots in each of the subplot
area using the plot command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>This created two plots one in each of the subplot area. The top subplot holds
a parabola and the bottom subplot holds a cosine curve.</p>
<p>As seen here we can use subplot command to switch between the subplot
as well, but we have to use the same arguments as we used to create
that subplot, otherwise the previous subplot at that place will be
automatically erased. It is clear from the two subplots that both have
different regular axes. For the cosine plot x-axis varies from 0 to
100 and y-axis varies from 0 to 1 where as for the parabolic plot the
x-axis varies from 0 to 10 and y-axis varies from 0 to 100</p>
</div>
<div class="section" id="plotting-data">
<h2>Plotting Data<a class="headerlink" href="#plotting-data" title="Permalink to this headline">¶</a></h2>
<p>We often require to plot points obtained from experimental observations,
instead of the analytic functions that we have been plotting, until now. We
shall now learn to read data from files and read it into sequences that can
later be used to plot.</p>
<p>We shall use the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> command to load data from files. We will be
looking at how to read a file with multiple columns of data and load each
column of data into a sequence.</p>
<p>Now, Let us begin with reading the file <tt class="docutils literal"><span class="pre">primes.txt</span></tt>, which contains just a
list of primes listed in a column, using the loadtxt command. The file, in
our case, is present in <tt class="docutils literal"><span class="pre">primes.txt</span></tt>.</p>
<p>Now let us read this list into the variable <tt class="docutils literal"><span class="pre">primes</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">primes</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&#39;primes.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">primes</span></tt> is now a sequence of primes, that was listed in the file,
<tt class="docutils literal"><span class="pre">primes.txt</span></tt>.</p>
<p>We now type, <tt class="docutils literal"><span class="pre">print</span> <span class="pre">primes</span></tt> to see the sequence printed.</p>
<p>We observe that all of the numbers end with a period. This is so, because
these numbers are actually read as <tt class="docutils literal"><span class="pre">floats</span></tt>.</p>
<p>Now, let us use the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> command to read a file that contains two
columns of data, <tt class="docutils literal"><span class="pre">pendulum.txt</span></tt>. This file contains the length of the
pendulum in the first column and the corresponding time period in the second.
Note that <tt class="docutils literal"><span class="pre">loadtxt</span></tt> needs both the columns to have equal number of rows.</p>
<p>Let us, now, read the data into the variable <tt class="docutils literal"><span class="pre">pend</span></tt>. Again, it is
assumed that the file is in our current working directory.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pend</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&#39;pendulum.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us now print the variable <tt class="docutils literal"><span class="pre">pend</span></tt> and see what&#8217;s in it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">pend</span>
</pre></div>
</div>
<p>Notice that <tt class="docutils literal"><span class="pre">pend</span></tt> is not a simple sequence like <tt class="docutils literal"><span class="pre">primes</span></tt>. It has a
sequence of items in which each item contains two values. Let us use an
additional argument of the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> command, to read it into two separate,
simple sequences. We add the argument <tt class="docutils literal"><span class="pre">unpack=True</span></tt> to the <tt class="docutils literal"><span class="pre">loadtxt</span></tt>
command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">L</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&#39;pendulum.txt&#39;</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us now, print the variables L and T, to see what they contain.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">L</span>
<span class="k">print</span> <span class="n">T</span>
</pre></div>
</div>
<p>Notice, that L and T now contain the first and second columns of data
from the data file, <tt class="docutils literal"><span class="pre">pendulum.txt</span></tt>, and they are both simple
sequences. <tt class="docutils literal"><span class="pre">unpack=True</span></tt> has given us the two columns into two
separate sequences instead of one complex sequence.</p>
<p>Now that we have the required data in sequences, let us see how to plot it.</p>
<p>Since we already have the values of L and T as two different sequences, we
now need to calculate T squared. We shall be plotting L vs. T^2 values.</p>
<p>To obtain the square of sequence T we will use the function <tt class="docutils literal"><span class="pre">square</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Tsq</span> <span class="o">=</span> <span class="n">square</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>Now to plot L vs T^2 we will simply type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">Tsq</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For any experimental data, there is always an error in measurements due to
instrumental and human constraints. Now we shall try and take into account
error into our plots.</p>
<p>We shall read the read the error values from the file <tt class="docutils literal"><span class="pre">pendulum_error.txt</span></tt>
along with the L and T values.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">L</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">L_err</span><span class="p">,</span> <span class="n">T_err</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&#39;pendulum_error.txt&#39;</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Now to plot L vs T^2 with an error bar we use the function <tt class="docutils literal"><span class="pre">errorbar()</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">errorbar</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">Tsq</span> <span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="n">L_err</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">T_err</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">&#39;b.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This gives a plot with error bar for x and y axis. The dots are of blue
color. The parameters <tt class="docutils literal"><span class="pre">xerr</span></tt> and <tt class="docutils literal"><span class="pre">yerr</span></tt> are error on x and y axis and
<tt class="docutils literal"><span class="pre">fmt</span></tt> is the format of the plot.</p>
<p>You can explore other options of <tt class="docutils literal"><span class="pre">errorbar</span></tt> by looking at it&#8217;s
documentation.</p>
<div class="highlight-python"><pre>errorbar?</pre>
</div>
</div>
<div class="section" id="other-kinds-of-plots">
<h2>Other kinds of Plots<a class="headerlink" href="#other-kinds-of-plots" title="Permalink to this headline">¶</a></h2>
<p>We shall now briefly look at a few other kinds of plots, namely, the scatter
plot, the pie chart, the bar chart and the log-log plot.</p>
<p>Let us start with scatter plot.</p>
<p>In a scatter plot, the data is displayed as a collection of points, each
having the value of one variable determining the position on the horizontal
axis and the value of the other variable determining the position on the
vertical axis. This kind of plot is also called a scatter chart, a scatter
diagram or a scatter graph.</p>
<p>Now, let us plot a scatter plot showing the percentage profit of a company A
from the year 2000-2010. The data for the same is available in the file
<tt class="docutils literal"><span class="pre">company-a-data.txt</span></tt>.</p>
<p>The data file has two lines with a set of values in each line, the first line
representing years and the second line representing the profit percentages.</p>
<p>To produce the scatter plot, we first need to load the data from the file
using <tt class="docutils literal"><span class="pre">loadtxt</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">year</span><span class="p">,</span><span class="n">profit</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&#39;company-a-data.txt&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
<p>By default loadtxt converts the value to float. The <tt class="docutils literal"><span class="pre">dtype=type(int())</span></tt>
argument in loadtxt converts the value to integer as we require the data as
integers.</p>
<p>In-order to generate the scatter graph we will use the function <tt class="docutils literal"><span class="pre">scatter()</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">scatter</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">profit</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that we passed two arguments to <tt class="docutils literal"><span class="pre">scatter()</span></tt> function, first one the
values in x-coordinate, year, and the other the values in y-coordinate, the
profit percentage.</p>
<p>Now let plot a pie chart for the same data. A pie chart or a circle graph is
a circular chart divided into sectors, illustrating proportion.</p>
<p>Plot a pie chart representing the profit percentage of company A, with the
same data from file <tt class="docutils literal"><span class="pre">company-a-data.txt</span></tt>.  We shall reuse the data we have
already read from the file.</p>
<p>We can plot the pie chart using the function <tt class="docutils literal"><span class="pre">pie()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pie</span><span class="p">(</span><span class="n">profit</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">year</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that we passed two arguments to the function <tt class="docutils literal"><span class="pre">pie()</span></tt>. First one the
values and the next one the set of labels to be used in the pie chart.</p>
<p>Now let us move on to the bar charts. A bar chart or bar graph is a chart
with rectangular bars with lengths proportional to the values that they
represent.</p>
<p>Plot a bar chart representing the profit percentage of company A, with the
same data from file <tt class="docutils literal"><span class="pre">company-a-data.txt</span></tt>.</p>
<p>We can plot the bar chart using the function <tt class="docutils literal"><span class="pre">bar()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">bar</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">profit</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the function <tt class="docutils literal"><span class="pre">bar()</span></tt> needs at least two arguments one the values
in x-coordinate and the other values in y-coordinate which is used to
determine the height of the bars.</p>
<p>Now let us move on to the log-log plot. A log-log graph or a log-log plot is
a two-dimensional graph of numerical data that uses logarithmic scales on
both the horizontal and vertical axes.</p>
<p>Due to the nonlinear scaling of the axes, a function of the form y = ax^b
will appear as a straight line on a log-log graph.</p>
<p>Plot a <tt class="docutils literal"><span class="pre">log-log</span></tt> chart of y=5*x^3 for x from 1-20.</p>
<p>Before we actually plot let us calculate the points needed for that.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</pre></div>
</div>
<p>Now we can plot the log-log chart using <tt class="docutils literal"><span class="pre">loglog()</span></tt> function,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">loglog</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>For the sake of clarity, let us make a linear plot of x vs. y.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Observing the two plots together should give you some clarity about the
<tt class="docutils literal"><span class="pre">loglog</span></tt> plot.</p>
<p>Help about matplotlib can be obtained from
<a class="reference external" href="http://matplotlib.sourceforge.net/contents.html">http://matplotlib.sourceforge.net/contents.html</a></p>
<p>That brings us to the end of the discussion on plots and matplotlib. We have
looked a making simple plots, embellishing plots, saving plots, making
multiple plots, plotting data from files, and a few varieties of plots.</p>
</div>
<div class="section" id="arrays">
<h2>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h2>
<p>In this section, we shall learn about a very powerful data structure,
specially useful for scientific computations, the array. We shall look at
initialization of arrays, operations on arrays and a brief comparison with
lists.</p>
<p>Arrays are homogeneous data structures, unlike lists which can be
heterogeneous. They can have only one type of data as their entries.</p>
<p>Arrays of a given length are comparatively much faster in mathematical
operations than lists of the same length, because of the fact that they are
homogeneous.</p>
<p>Now let us see how to create arrays.</p>
<p>To create an array we will use the function <tt class="docutils literal"><span class="pre">array()</span></tt>,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Notice that we created a one dimensional array here. Also notice that we
passed a list as an argument, to create the array.</p>
<p>We create two dimensional array by converting a list of lists to an array</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a2</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
</pre></div>
</div>
<p>A two dimensional array has been created by passing a list of lists to the
array function.</p>
<p>Now let us use <tt class="docutils literal"><span class="pre">arange()</span></tt> function to create the same arrays as before.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ar1</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">arange</span></tt> function is similar to the range function that we have already
looked at, in the basic Python section.</p>
<p>To create the two dimensional array, we first obtain a 1D array with the
elements from 1 to 8 and then convert it to a 2D array.</p>
<p>To obtain the 1D array, we use the <tt class="docutils literal"><span class="pre">arange</span></tt> function</p>
<dl class="docutils">
<dt>::</dt>
<dd>ar2 = arange(1, 9)
print ar2</dd>
</dl>
<p>We use the shape method to change the shape of the array, into a 2D array.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ar2</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span>
<span class="k">print</span> <span class="n">ar2</span>
</pre></div>
</div>
<p>This gives us the required array.</p>
<p>Instead of passing a list to the array function, we could also pass a list
variable. For, instance</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">l1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
</pre></div>
</div>
<p>We used the shape method to change the shape of the array. But it can also
be used to find out the shape of an array that we have.</p>
<dl class="docutils">
<dt>::</dt>
<dd>a1.shape
a2.shape</dd>
</dl>
<p>As, already stated, arrays are homogeneous. Let us try to create a new
array with a mix of elements and see what happens.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a4</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">&#39;a string&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>We expect an error, but there wasn&#8217;t one. What happened? Let&#8217;s see what a4
has.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a4</span>
</pre></div>
</div>
<p>There you go! The data type of the array has been set to a string of
length 8. All the elements have been implicitly type-casted as strings,
though our first three elements were meant to be integers. The dtype
specifies the data-type of the array.</p>
<p>There some other special methods as well, to create special types of
arrays. We can create an 2 dimensional identity array, using the function
<tt class="docutils literal"><span class="pre">identity()</span></tt>. The function <tt class="docutils literal"><span class="pre">identity()</span></tt> takes an integer argument which
specifies the size of the diagonal of the array.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see the identity function returned a three by three array, with
all the diagonal elements as ones and the rest of the elements as zeros.</p>
<p><tt class="docutils literal"><span class="pre">zeros()</span></tt> function accepts a tuple, which is the shape of the array that
we want to create, and it generates an array with all elements as zeros.</p>
<p>Let us creates an array of the order four by five with all the elements
zero. We can do it using the method zeros,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>Notice that we passed a tuple to the function zeros. Similarly, <tt class="docutils literal"><span class="pre">ones()</span></tt>
gives us an array with all elements as ones.</p>
<p>Also, <tt class="docutils literal"><span class="pre">zeros_like</span></tt> gives us an array with all elements as zeros, with a
shape similar to the array passed as the argument and the same data-type as
the argument array.</p>
<div class="highlight-python"><pre>a = zeros_like([1.5, 1, 2, 3]
print a, a.dtype</pre>
</div>
<p>Similarly, the function <tt class="docutils literal"><span class="pre">ones_like</span></tt>.</p>
<p>Let us try out some basic operations with arrays, before we end this
section.</p>
<p>Let&#8217;s check the value of a1, by typing it out on the interpreter.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">a1</span></tt> is a single dimensional array, array([1,2,3,4]). Now, try</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
<p>We get back a new array, with all the elements multiplied by 2. Note that
the value of elements of <tt class="docutils literal"><span class="pre">a1</span></tt> remains the same.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span>
</pre></div>
</div>
<p>Similarly we can perform addition or subtraction or division.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span> <span class="o">+</span> <span class="mi">3</span>
<span class="n">a1</span> <span class="o">-</span> <span class="mi">7</span>
<span class="n">a1</span> <span class="o">/</span> <span class="mf">2.0</span>
</pre></div>
</div>
<p>We can change the array, by simply assigning the newly returned array to
the old array.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">+</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Notice the change in elements of a1,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span>
</pre></div>
</div>
<p>We could also do the augmented assignment, but there&#8217;s a small nuance here.
For instance,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">print</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">dtype</span>
<span class="k">print</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">dtype</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">/</span><span class="mf">2.0</span>
<span class="n">b</span> <span class="o">/=</span> <span class="mf">2.0</span>

<span class="k">print</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">dtype</span>
<span class="k">print</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
<p>As you can see, <tt class="docutils literal"><span class="pre">b</span></tt> doesn&#8217;t have the expected result because the
augmented assignment that we are doing, is an inplace operation. Given that
arrays are optimized to be very fast, by fixing their datatype and hence
the amount of memory they can occupy, the division by a float, when
performed inplace, fails to change the dtype of the array. So, be cautious,
when using in-place assignments.</p>
<p>Now let us try operations between two arrays.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a1</span> <span class="o">+</span> <span class="n">a1</span>
<span class="n">a1</span> <span class="o">*</span> <span class="n">a2</span>
</pre></div>
</div>
<p>Note that both the addition and the multiplication are element-wise.</p>
</div>
<div class="section" id="accessing-pieces-of-arrays">
<h2>Accessing pieces of arrays<a class="headerlink" href="#accessing-pieces-of-arrays" title="Permalink to this headline">¶</a></h2>
<p>Now, that we know how to create arrays, let&#8217;s see how to access individual
elements of arrays, get rows and columns and other chunks of arrays using
slicing and striding.</p>
<p>Let us have two arrays, A and C, as the sample arrays that we will use to
learn how to access parts of arrays.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">56</span><span class="p">])</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">55</span><span class="p">]])</span>
</pre></div>
</div>
<p>Let us begin with the most elementary thing, accessing individual elements.
Also, let us first do it with the one-dimensional array A, and then do the
same thing with the two-dimensional array.</p>
<p>To access, the element 34 in A, we say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>A of 2, note that we are using square brackets.</p>
<p>Like lists, indexing starts from 0 in arrays, too. So, 34, the third
element has the index 2.</p>
<p>Now, let us access the element 34 from C. To do this, we say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>C of 2,3.</p>
<p>34 is in the third row and the fourth column, and since indexing begins
from zero, the row index is 2 and column index is 3.</p>
<p>Now, that we have accessed one element of the array, let us change it. We
shall change the 34 to -34 in both A and C. To do this, we simply assign
the new value after accessing the element.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">34</span>
<span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">34</span>
</pre></div>
</div>
<p>Now that we have accessed and changed a single element, let us access and
change more than one element at a time; first rows and then columns.</p>
<p>Let us access one row of C, say the third row. We do it by saying,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>How do we access the last row of C? We could say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>for the fifth row, or as with lists, use negative indexing and say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Now, we could change the last row into all zeros, using either</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Now, how do we access one column of C? As with accessing individual
elements, the column is the second parameter to be specified (after the
comma). The first parameter, is replaced with a <tt class="docutils literal"><span class="pre">:</span></tt>. This specifies that
we want all the elements of that dimension, instead of just one particular
element. We access the third column by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>So, we can change the last column of C to zeroes, by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Since A is one dimensional, rows and columns of A don&#8217;t make much sense. It
has just one row and</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">[:]</span>
</pre></div>
</div>
<p>gives the whole of A.</p>
<p>Now, that we know how to access, rows and columns of an array, we shall
learn how to access other, larger pieces of an array. For this purpose, we
will be using image arrays.</p>
<p>To read an image into an array, we use the <tt class="docutils literal"><span class="pre">imread</span></tt> command. We shall use
the image <tt class="docutils literal"><span class="pre">squares.png</span></tt>. We shall first navigate to that path in the OS
and see what the image contains.</p>
<p>Let us now read the data in <tt class="docutils literal"><span class="pre">squares.png</span></tt> into the array <tt class="docutils literal"><span class="pre">I</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">I</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s">&#39;squares.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We can see the contents of the image, using the command <tt class="docutils literal"><span class="pre">imshow</span></tt>. We say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">imshow</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
</pre></div>
</div>
<p>to see what has been read into <tt class="docutils literal"><span class="pre">I</span></tt>. We do not see white and black
because, <tt class="docutils literal"><span class="pre">pylab</span></tt> has mapped white and black to different colors. This can
be changed by using a different colormap.</p>
<p>To see that <tt class="docutils literal"><span class="pre">I</span></tt> is really, just an array, we say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">I</span>
</pre></div>
</div>
<p>at the prompt, and see that an array is displayed.</p>
<p>To check the dimensions of any array, we can use <tt class="docutils literal"><span class="pre">.shape</span></tt>. We say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">I</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<p>to get the dimensions of the image. As we can see, <tt class="docutils literal"><span class="pre">squares.png</span></tt> has the
dimensions of 300x300.</p>
<p>Our goal for now, is be to get the top-left quadrant of the image. To do
this, we need to access, a few of the rows and a few of the columns of the
array.</p>
<p>To access, the third column of C, we said, <tt class="docutils literal"><span class="pre">C[:,</span> <span class="pre">2]</span></tt>. Essentially, we are
accessing all the rows in column three of C. Now, let us modify this to
access only the first three rows, of column three of C.
We say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>to get the elements of rows indexed from 0 to 3, 3 not included and column
indexed 2. Note that, the index before the colon is included and the index
after it is not included in the slice that we have obtained. This is very
similar to the <tt class="docutils literal"><span class="pre">range</span></tt> function, where <tt class="docutils literal"><span class="pre">range</span></tt> returns a list, in which
the upper limit or stop value is not included.</p>
<p>Now, if we wish to access the elements of row with index 2, and in
columns indexed 0 to 2 (included), we say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that when specifying ranges, if you are starting from the beginning or
going up-to the end, the corresponding element may be dropped.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>also gives us the same elements, [31, 32, 33]</p>
<p>Now, we are ready to obtain the top left quarter of the image. How do we go
about doing it? Since, we know the shape of the image to be 300, we know
that we need to get the first 150 rows and first 150 columns.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">I</span><span class="p">[:</span><span class="mi">150</span><span class="p">,</span> <span class="p">:</span><span class="mi">150</span><span class="p">]</span>
</pre></div>
</div>
<p>gives us the top-left corner of the image.</p>
<p>We use the <tt class="docutils literal"><span class="pre">imshow</span></tt> command to see the slice we obtained in the
form of an image and confirm.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">imshow</span><span class="p">(</span><span class="n">I</span><span class="p">[:</span><span class="mi">150</span><span class="p">,</span> <span class="p">:</span><span class="mi">150</span><span class="p">])</span>
</pre></div>
</div>
<p>How would we obtain the square in the center of the image?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">imshow</span><span class="p">(</span><span class="n">I</span><span class="p">[</span><span class="mi">75</span><span class="p">:</span><span class="mi">225</span><span class="p">,</span> <span class="mi">75</span><span class="p">:</span><span class="mi">225</span><span class="p">])</span>
</pre></div>
</div>
<p>Our next goal is to compress the image, using a very simple technique to
reduce the space that the image takes on disk while not compromising too
heavily on the image quality. The idea is to drop alternate rows and
columns of the image and save it. This way we will be reducing the data to
a fourth of the original data but losing only so much of visual
information.</p>
<p>We shall first learn the idea of striding using the smaller array C.
Suppose we wish to access only the odd rows and columns (first, third,
fifth). We do this by,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>if we wish to be explicit, or simply,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[::</span><span class="mi">2</span><span class="p">,</span> <span class="p">::</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>This is very similar to the step specified to the <tt class="docutils literal"><span class="pre">range</span></tt> function. It
specifies, the jump or step in which to move, while accessing the elements.
If no step is specified, a default value of 1 is assumed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">,</span> <span class="p">::</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>gives the elements, [[21, 23, 0], [41, 43, 0]]</p>
<p>Now, that we know how to stride over an array, we can drop alternate rows
and columns out of the image in I.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">I</span><span class="p">[::</span><span class="mi">2</span><span class="p">,</span> <span class="p">::</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>To see this image, we say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">imshow</span><span class="p">(</span><span class="n">I</span><span class="p">[::</span><span class="mi">2</span><span class="p">,</span> <span class="p">::</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>This does not have much data to notice any real difference, but notice that
the scale has reduced to show that we have dropped alternate rows and
columns. If you notice carefully, you will be able to observe some blurring
near the edges. To notice this effect more clearly, increase the step to 4.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">imshow</span><span class="p">(</span><span class="n">I</span><span class="p">[::</span><span class="mi">4</span><span class="p">,</span> <span class="p">::</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>That brings us to our discussion on accessing pieces of arrays. We shall
look at matrices, next.</p>
</div>
<div class="section" id="matrices">
<h2>Matrices<a class="headerlink" href="#matrices" title="Permalink to this headline">¶</a></h2>
<p>In this course, we shall perform all matrix operations using the array
data-structure. We shall create a 2D array and treat it as a matrix.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m1</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="n">m1</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<p>As we already know, we can get a 2D array from a list of lists as well.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">l1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
<span class="n">m3</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">]])</span>
</pre></div>
</div>
<p>We can do matrix addition and subtraction as,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m3</span> <span class="o">+</span> <span class="n">m2</span>
</pre></div>
</div>
<p>does element by element addition, thus matrix addition.</p>
<p>Similarly,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m3</span> <span class="o">-</span> <span class="n">m2</span>
</pre></div>
</div>
<p>it does matrix subtraction, that is element by element
subtraction. Now let us try,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m3</span> <span class="o">*</span> <span class="n">m2</span>
</pre></div>
</div>
<p>Note that in arrays <tt class="docutils literal"><span class="pre">m3</span> <span class="pre">*</span> <span class="pre">m2</span></tt> does element wise multiplication and not
matrix multiplication,</p>
<p>And matrix multiplication in matrices are done using the function <tt class="docutils literal"><span class="pre">dot()</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dot</span><span class="p">(</span><span class="n">m3</span><span class="p">,</span> <span class="n">m2</span><span class="p">)</span>
</pre></div>
</div>
<p>but for matrix multiplication, we need arrays of compatible sizes and hence
the multiplication fails, in this case.</p>
<p>To see an example of matrix multiplication, we choose a proper pair.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m1</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<p>m1 is of the shape one by four, let us create an array of the shape four by
two,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m4</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="n">dot</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m4</span><span class="p">)</span>
</pre></div>
</div>
<p>Thus, the function <tt class="docutils literal"><span class="pre">dot()</span></tt> can be used for matrix multiplication.</p>
<p>We have already seen the special functions like  <tt class="docutils literal"><span class="pre">identity()</span></tt>,
<tt class="docutils literal"><span class="pre">zeros()</span></tt>, <tt class="docutils literal"><span class="pre">ones()</span></tt>, etc. to create special arrays.</p>
<p>Let us now look at some Matrix specific operations.</p>
<p>To find out the transpose, we use the <tt class="docutils literal"><span class="pre">.T</span></tt> method.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">m4</span>
<span class="k">print</span> <span class="n">m4</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<p>Now let us try to find out the Frobenius norm of inverse of a 4 by 4
matrix, the matrix being,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m5</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="k">print</span> <span class="n">m5</span>
</pre></div>
</div>
<p>The inverse of a matrix A, A raise to minus one is also called the
reciprocal matrix such that A multiplied by A inverse will give 1.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">im5</span> <span class="o">=</span> <span class="n">inv</span><span class="p">(</span><span class="n">m5</span><span class="p">)</span>
</pre></div>
</div>
<p>The Frobenius norm of a matrix is defined as square root of sum of squares
of elements in the matrix. The Frobenius norm of <tt class="docutils literal"><span class="pre">im5</span></tt> can be found by,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sqrt</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">im5</span> <span class="o">*</span> <span class="n">im5</span><span class="p">))</span>
</pre></div>
</div>
<p>Now try to find out the infinity norm of the matrix im5. The infinity norm
is defined as the maximum value of sum of the absolute of elements in each
row.</p>
<p>The solution for the problem is,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">max</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">im5</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>Well! to find the Frobenius norm and Infinity norm we have an even easier
method, and let us see that now.</p>
<p>The norm of a matrix can be found out using the method <tt class="docutils literal"><span class="pre">norm()</span></tt>. In order
to find out the Frobenius norm of the im5, we do,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">norm</span><span class="p">(</span><span class="n">im5</span><span class="p">)</span>
</pre></div>
</div>
<p>And to find out the Infinity norm of the matrix im5, we do,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">norm</span><span class="p">(</span><span class="n">im5</span><span class="p">,</span><span class="nb">ord</span><span class="o">=</span><span class="n">inf</span><span class="p">)</span>
</pre></div>
</div>
<p>The determinant of a square matrix can be obtained using the function
<tt class="docutils literal"><span class="pre">det()</span></tt> and the determinant of m5 by,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">det</span><span class="p">(</span><span class="n">m5</span><span class="p">)</span>
</pre></div>
</div>
<p>The eigen values and eigen vector of a square matrix can be computed
using the function <tt class="docutils literal"><span class="pre">eig()</span></tt> and <tt class="docutils literal"><span class="pre">eigvals()</span></tt>.</p>
<p>Let us find out the eigen values and eigen vectors of the matrix
m5. We can do it as,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">eig</span><span class="p">(</span><span class="n">m5</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that it returned a tuple of two matrices. The first element in
the tuple are the eigen values and the second element in the tuple are
the eigen vectors. Thus the eigen values are,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">eig</span><span class="p">(</span><span class="n">m5</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>and the eigen vectors are,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">eig</span><span class="p">(</span><span class="n">m5</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>The eigen values can also be computed using the function <tt class="docutils literal"><span class="pre">eigvals()</span></tt> as,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">eigvals</span><span class="p">(</span><span class="n">m5</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also find the singular value decomposition or S V D of a matrix.</p>
<p>The SVD of <tt class="docutils literal"><span class="pre">m5</span></tt> can be found by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">svd</span><span class="p">(</span><span class="n">m5</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that it returned a tuple of 3 elements. The first one U the
next one Sigma and the third one V star.</p>
<p>That brings us to our discussion of matrices and operations on them. But we
shall continue to use them in the next section on Least square fit.</p>
</div>
<div class="section" id="least-square-fit">
<h2>Least square fit<a class="headerlink" href="#least-square-fit" title="Permalink to this headline">¶</a></h2>
<p>First let us have a look at the problem.</p>
<p>We have an input file generated from a simple pendulum experiment, which we
have already looked at. We shall find the least square fit of the plot
obtained by plotting l vs. t^2, where l is the length of the pendulum and t
is the corresponding time-period.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">l</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&quot;/home/fossee/pendulum.txt&quot;</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">l</span>
<span class="n">t</span>
</pre></div>
</div>
<p>We can see that l and t are two sequences containing length and time values
correspondingly.</p>
<p>Let us first plot l vs t^2. Type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tsq</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">t</span>
<span class="n">plot</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">tsq</span><span class="p">,</span> <span class="s">&#39;bo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We can see that there is a visible linear trend, but we do not get a
straight line connecting them. We shall, therefore, generate a least square
fit line.</p>
<p>We are first going to generate the two matrices <tt class="docutils literal"><span class="pre">tsq</span></tt> and A, the vander
monde matrix. Then we are going to use the <tt class="docutils literal"><span class="pre">lstsq</span></tt> function to find the
values of m and c.</p>
<p>Let us now generate the A matrix with l values. We shall first generate a 2
x 90 matrix with the first row as l values and the second row as ones. Then
take the transpose of it. Type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span> <span class="o">=</span> <span class="n">array</span><span class="p">((</span><span class="n">l</span><span class="p">,</span> <span class="n">ones_like</span><span class="p">(</span><span class="n">l</span><span class="p">)))</span>
<span class="n">A</span>
</pre></div>
</div>
<p>We see that we have intermediate matrix. Now we need the transpose. Type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">T</span>
<span class="n">A</span>
</pre></div>
</div>
<p>Now we have both the matrices A and tsq. We only need to use the <tt class="docutils literal"><span class="pre">lstsq</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">lstsq</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">tsq</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is a sequence of values. The first item in this sequence, is the
matrix p i.e., the values of m and c. Hence,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">m</span>
<span class="n">c</span>
</pre></div>
</div>
<p>Now that we have m and c, we need to generate the fitted values of t^2. Type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tsq_fit</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">l</span> <span class="o">+</span> <span class="n">c</span>
<span class="n">plot</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">tsq</span><span class="p">,</span> <span class="s">&#39;bo&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">tsq_fit</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We get the least square fit of l vs t^2</p>
<p>That brings us to the end of our discussion on least square fit curve and
also our discussion of arrays.</p>
<p>In this section we shall look at using scipy to do various common
scientific computation tasks. We shall be looking at solving equations
(linear and non-linear) and solving ODEs. We shall also briefly look at
FFTs.</p>
</div>
<div class="section" id="solving-equations">
<h2>Solving Equations<a class="headerlink" href="#solving-equations" title="Permalink to this headline">¶</a></h2>
<p>Let us begin with solving equations, specifically linear equations.</p>
<p>Consider the set of equations,</p>
<div class="highlight-python"><pre>3x + 2y -z = 1,
2x-2y + 4z = -2,
-x+ 1/2 y-z = 0</pre>
</div>
<p>We shall use the <tt class="docutils literal"><span class="pre">solve</span></tt> function, to solve the given system of linear
equations. <tt class="docutils literal"><span class="pre">solve</span></tt> requires the coefficients and the constants to be in
the form of matrices, of the form <tt class="docutils literal"><span class="pre">Ax</span> <span class="pre">=</span> <span class="pre">b</span></tt> to solve the system.</p>
<p>We begin by entering the coefficients and the constants as matrices.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span> <span class="o">=</span> <span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
           <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
</pre></div>
</div>
<p>A is a 3X3 matrix of the coefficients of x, y and z</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">b</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Now, we can use the solve function to solve the given system.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>Type x, to look at the solution obtained.</p>
<p>The equation is of the form <tt class="docutils literal"><span class="pre">Ax</span> <span class="pre">=</span> <span class="pre">b</span></tt>, so we verify the solution by
obtaining a matrix product of <tt class="docutils literal"><span class="pre">A</span></tt> and <tt class="docutils literal"><span class="pre">x</span></tt>, and comparing it with <tt class="docutils literal"><span class="pre">b</span></tt>.
As we have seen earlier, we should use the dot function, for a matrix
product and not the * operator.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Ax</span> <span class="o">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">Ax</span>
</pre></div>
</div>
<p>The result <tt class="docutils literal"><span class="pre">Ax</span></tt>, doesn&#8217;t look exactly like <tt class="docutils literal"><span class="pre">b</span></tt>, but if we carefully
observe, we will see that it is the same as <tt class="docutils literal"><span class="pre">b</span></tt>. To save ourself all this
trouble, we can use the <tt class="docutils literal"><span class="pre">allclose</span></tt> function.</p>
<p><tt class="docutils literal"><span class="pre">allclose</span></tt> checks if two matrices are close enough to each other (with-in
the specified tolerance level). Here we shall use the default tolerance
level of the function.</p>
<dl class="docutils">
<dt>::</dt>
<dd>allclose(Ax, b)</dd>
</dl>
<p>The function returns <tt class="xref docutils literal"><span class="pre">True</span></tt>, which implies that the product of <tt class="docutils literal"><span class="pre">A</span></tt> &amp;
<tt class="docutils literal"><span class="pre">x</span></tt> is very close to the value of <tt class="docutils literal"><span class="pre">b</span></tt>. This validates our solution.</p>
<p>Let&#8217;s move to finding the roots of a polynomial. We shall use the <tt class="docutils literal"><span class="pre">roots</span></tt>
function for this.</p>
<p>The function requires an array of the coefficients of the polynomial in the
descending order of powers. Consider the polynomial x^2-5x+6 = 0</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">coeffs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">roots</span><span class="p">(</span><span class="n">coeffs</span><span class="p">)</span>
</pre></div>
</div>
<p>As we can see, roots returns the result in an array. It even works for
polynomials with imaginary roots.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">roots</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>As you can see, the roots of that equation are complex.</p>
<p>What if, we want the solution of non linear equations?</p>
<p>For that we shall use the <tt class="docutils literal"><span class="pre">fsolve</span></tt> function. We shall use the equation
sin(x)+cos^2(x), as an example. <tt class="docutils literal"><span class="pre">fsolve</span></tt> is not part of the pylab package
which we imported at the beginning, so we will have to import it. It is
part of <tt class="docutils literal"><span class="pre">scipy</span></tt> package. Let&#8217;s import it,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">fsolve</span>
</pre></div>
</div>
<p>We shall look at the details of importing, later.</p>
<p>Now, let&#8217;s look at the documentation of fsolve by typing fsolve?</p>
<div class="highlight-python"><pre>fsolve?</pre>
</div>
<p>As mentioned in documentation the first argument, <tt class="docutils literal"><span class="pre">func</span></tt>, is a python
function that takes atleast one argument. The second argument, <tt class="docutils literal"><span class="pre">x0</span></tt>, is
the initial estimate of the roots of the function. Based on this initial
guess, <tt class="docutils literal"><span class="pre">fsolve</span></tt> returns a root.</p>
<p>Let&#8217;s define a function called f, that returns the value of
<tt class="docutils literal"><span class="pre">(sin(x)+cos^2(x))</span></tt> evaluated at the input value <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>We can test our function, by calling it with an argument for which the
output value is known, say x = 0. We can see that</p>
<p>Let&#8217;s check our function definition, by calling it with 0 as an argument.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>We can see that the output is 1 as expected, since sin(x) + cos^2(x) has a
value of 1, when x = 0.</p>
<p>Now, that we have our function, we can use <tt class="docutils literal"><span class="pre">fsolve</span></tt> to obtain a root of
the expression sin(x)+cos^2(x). Let&#8217;s use 0 as our initial guess.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fsolve</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>fsolve has returned a root of sin(x)+cos^2(x) that is close to 0.</p>
<p>That brings us to the end of our discussion on solving equations. We
discussed solution of linear equations, finding roots of polynomials and
non-linear equations.</p>
</div>
<div class="section" id="odes">
<h2>ODEs<a class="headerlink" href="#odes" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s see how to solve Ordinary Differential Equations (ODEs), using
Python. Let&#8217;s consider the classic problem of the spread of an epidemic in
a population, as an example.</p>
<p>This is given by the ordinary differential equation <tt class="docutils literal"><span class="pre">dy/dt</span> <span class="pre">=</span> <span class="pre">ky(L-y)</span></tt>
where L is the total population and k is an arbitrary constant.</p>
<p>For our problem, let us use L=250000, k=0.00003. Let the boundary condition
be y(0)=250.</p>
<p>We shall use the <tt class="docutils literal"><span class="pre">odeint</span></tt> function to solve this ODE. As before, this
function resides in a submodule of SciPy and doesn&#8217;t come along with Pylab.
We import it,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">scipy.integrate</span> <span class="kn">import</span> <span class="n">odeint</span>
</pre></div>
</div>
<p>We can represent the given ODE as a Python function. This function takes
the dependent variable y and the independent variable t as arguments and
returns the ODE.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">epid</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mf">0.00003</span>
    <span class="n">L</span> <span class="o">=</span> <span class="mi">250000</span>
    <span class="k">return</span> <span class="n">k</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="p">(</span><span class="n">L</span><span class="o">-</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Independent variable t can be assigned the values in the interval of 0 and
12 with 60 points using linspace:</p>
<blockquote>
<div>In []: t = linspace(0, 12, 60)</div></blockquote>
<p>Now obtaining the solution of the ode we defined, is as simple as calling
the Python&#8217;s <tt class="docutils literal"><span class="pre">odeint</span></tt> function which we just imported</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">epid</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>We can plot the the values of y against t to get a graphical picture our ODE.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s now try and solve an ODE of second order. Let&#8217;s take the example of a
simple pendulum.</p>
<p>The equations can be written as a system of two first order ODEs</p>
<blockquote>
<div>d(theta)/dt = omega</div></blockquote>
<p>and</p>
<blockquote>
<div>d(omega)/dt = - g/L sin(theta)</div></blockquote>
<p>Let us define the boundary conditions as: at t = 0, theta = theta-naught =
10 degrees and omega = 0</p>
<p>Let us first define our system of equations as a Python function,
<tt class="docutils literal"><span class="pre">pend_int</span></tt>. As in the earlier case of single ODE we shall use <tt class="docutils literal"><span class="pre">odeint</span></tt>
function to solve this system of equations.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">pend_int</span><span class="p">(</span><span class="n">initial</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">initial</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">omega</span> <span class="o">=</span> <span class="n">initial</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>
    <span class="n">L</span> <span class="o">=</span> <span class="mf">0.2</span>
    <span class="n">f</span><span class="o">=</span><span class="p">[</span><span class="n">omega</span><span class="p">,</span> <span class="o">-</span><span class="p">(</span><span class="n">g</span><span class="o">/</span><span class="n">L</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">f</span>
</pre></div>
</div>
<p>It takes two arguments. The first argument itself containing two dependent
variables in the system, theta and omega. The second argument is the
independent variable t.</p>
<p>In the function we assign the first and second values of the initial
argument to theta and omega respectively. Acceleration due to gravity, as
we know is 9.81 meter per second sqaure. Let the length of the the pendulum
be 0.2 meter.</p>
<p>We create a list, f, of two equations which corresponds to our two ODEs,
that is <tt class="docutils literal"><span class="pre">d(theta)/dt</span> <span class="pre">=</span> <span class="pre">omega</span></tt> and <tt class="docutils literal"><span class="pre">d(omega)/dt</span> <span class="pre">=</span> <span class="pre">-</span> <span class="pre">g/L</span> <span class="pre">sin(theta)</span></tt>. We
return this list of equations f.</p>
<p>Now we can create a set of values for our time variable t over which we need
to integrate our system of ODEs. Let us say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>We shall assign the boundary conditions to the variable initial.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">initial</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Now solving this system is just a matter of calling the odeint function with
the correct arguments.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pend_sol</span> <span class="o">=</span> <span class="n">odeint</span><span class="p">(</span><span class="n">pend_int</span><span class="p">,</span> <span class="n">initial</span><span class="p">,</span><span class="n">t</span><span class="p">)</span>

<span class="n">plot</span><span class="p">(</span><span class="n">pend_sol</span><span class="p">)</span>
</pre></div>
</div>
<p>This gives us 2 plots, omega vs t and theta vs t.</p>
<p>That brings us to the end of our discussion on ODEs and solving them in
Python.</p>
</div>
<div class="section" id="using-python-modules">
<h2>Using Python modules<a class="headerlink" href="#using-python-modules" title="Permalink to this headline">¶</a></h2>
<p>We shall, in this section, see how to run Python scripts from the command
line, and more details about importing modules.</p>
<p>Let us create a simple python script to print hello world. Open your text
editor and type the following, and save the script as <tt class="docutils literal"><span class="pre">hello.py</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;Hello world!&quot;</span>
</pre></div>
</div>
<p>Until now we have been running scripts from inside IPython, using</p>
<div class="highlight-python"><pre>%run -i hello.py</pre>
</div>
<p>But, as we know, IPython is just an advanced interpreter and it is not
mandatory that every one who wants to run your program has IPython
installed.</p>
<p>So, the right method to run the script, would be to run it using the Python
interpreter. Open the terminal and navigate to the directory where
<tt class="docutils literal"><span class="pre">hello.py</span></tt> is saved.</p>
<p>Then run the script by saying,</p>
<div class="highlight-python"><pre>python hello.py</pre>
</div>
<p>The script is executed and the string <tt class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></tt> has been printed.</p>
<p>Now let us run a script that plots a simple sine curve in the range -2pi to
2pi, using Python, instead of running it from within IPython.</p>
<p>Type the following lines and save it in <tt class="docutils literal"><span class="pre">sine_plot.py</span></tt> file.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Now let us run sine_plot.py as a python script.</p>
<div class="highlight-python"><pre>python sine_plot.py</pre>
</div>
<p>Do we get the plot? No! All we get is error messages. Python complains that
<tt class="docutils literal"><span class="pre">linspace</span></tt> isn&#8217;t defined. What happened? Let us try to run the same
script from within IPython. Start IPython, with the <tt class="docutils literal"><span class="pre">-pylab</span></tt> argument and
run the script. It works!</p>
<p>What is going on, here? IPython when started with the <tt class="docutils literal"><span class="pre">-pylab</span></tt> option, is
importing a whole set of functionality for us to work with, without
bothering about importing etc.</p>
<p>Let us now try to fix the problem by importing <tt class="docutils literal"><span class="pre">linspace</span></tt>.</p>
<p>Let&#8217;s add the following line as the first line in the script.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Now let us run the script again,</p>
<div class="highlight-python"><pre>python sine_plot.py</pre>
</div>
<p>Now we get an error, that says <tt class="docutils literal"><span class="pre">plot</span></tt> is not defined. Let&#8217;s edit the file
and import this from pylab. Let&#8217;s add the following line, as the second
line of our script.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>And run the script,</p>
<div class="highlight-python"><pre>python sine_plot.py</pre>
</div>
<p>Yes! it worked. So what did we do?</p>
<p>We actually imported the required functions and keywords, using <tt class="docutils literal"><span class="pre">import</span></tt>.
By using the * , we are asking python to import everything from the
<tt class="docutils literal"><span class="pre">scipy</span></tt> and <tt class="docutils literal"><span class="pre">pylab</span></tt> modules. This isn&#8217;t a good practice, as
1. it imports a lot of unnecessary things
2. the two modules may have functions with the same name, which would</p>
<blockquote>
<div>cause a conflict.</div></blockquote>
<p>One of the ways out is to import only the stuff that we need, explicitly.</p>
<p>Let us modify sine_plot.py by replacing the import statements with the
following lines.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sin</span>
<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">plot</span><span class="p">,</span> <span class="n">show</span>
</pre></div>
</div>
<p>Now let us try running the code again as,</p>
<div class="highlight-python"><pre>python show_plot.py</pre>
</div>
<p>As expected, this works. But, once the number of functions that you need to
import increases, this is slightly inconvenient. Also, you cannot use
functions with the same name, from different modules. To overcome this,
there&#8217;s another method.</p>
<p>We could just import the modules as it is, and use the functions or other
objects as a part of those modules. Change the import lines, to the
following.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">pylab</span>
</pre></div>
</div>
<p>Now, replace <tt class="docutils literal"><span class="pre">pi</span></tt> with <tt class="docutils literal"><span class="pre">scipy.pi</span></tt>. Similarly, for <tt class="docutils literal"><span class="pre">sin</span></tt> and
<tt class="docutils literal"><span class="pre">linspace</span></tt>. Replace <tt class="docutils literal"><span class="pre">plot</span></tt> and <tt class="docutils literal"><span class="pre">show</span></tt> with <tt class="docutils literal"><span class="pre">pylab.plot</span></tt> and
<tt class="docutils literal"><span class="pre">pylab.show</span></tt>, respectively.</p>
<p>Now, run the file and see that we get the output, as expected.</p>
<p>We have learned how to import from modules, but what exactly is a module?
How is one written?</p>
<p>A module is simply a Python script containing the definitions and
statements, which can be imported. So, it is very easy to create your own
modules. You just need to stick in all your definitions into your python
file and put the file in your current directory.</p>
<p>When importing, Python searches the locations present in a variable called
the Python path. So, our module file should be present in one of the
locations in the Python path. The first location to be searched is the
current directory of the script being run. So, having our module file in
the current working directory, is the simplest way to allow it to be used
as a module and import things from it.</p>
<p>Python has a very rich standard library of modules. It is very extensive,
offering a wide range of facilities. Some of the standard modules are,</p>
<p>for Math: math, random
for Internet access: urllib2, smtplib
for System, Command line arguments: sys
for Operating system interface: os
for regular expressions: re
for compression: gzip, zipfile, tarfile
And there are lot more.</p>
<p>Find more information at Python Library reference,
<tt class="docutils literal"><span class="pre">http://docs.python.org/library/</span></tt></p>
<p>There are a lot of other modules like pylab, scipy, Mayavi, etc which
are not part of the standard Python library.</p>
<p>This brings us to the end of our discussion on modules and running scripts
from the command line.</p>
</div>
<div class="section" id="writing-modules">
<h2>Writing modules<a class="headerlink" href="#writing-modules" title="Permalink to this headline">¶</a></h2>
<p>In this section we shall look at writing modules, in some more detail.
Often we will have to reuse the code that we have previously written. We do
that by writing functions. Functions can then be put into modules, and
imported as and when required.</p>
<p>Let us first write a function that computes the gcd of two numbers and save it in a script.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">%</span><span class="n">b</span>
    <span class="k">return</span> <span class="n">a</span>
</pre></div>
</div>
<p>Now, we shall write a test function in the script that tests the gcd function, to see if it works.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">gcd</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="n">gcd</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Everything OK&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;The GCD function is wrong&quot;</span>
</pre></div>
</div>
<p>Let us save the file as gcd_script.py in <tt class="docutils literal"><span class="pre">/home/fossee/gcd_script.py</span></tt> and
run it.</p>
<div class="highlight-python"><pre>$ python /home/fossee/gcd_script.py</pre>
</div>
<p>We can see that the script is executed and everything is fine.</p>
<p>What if we want to use the gcd function in some of our other scripts. This
is also possible since every python file can be used as a module.</p>
<p>But first, we shall understand what happens when you import a module.</p>
<p>Open IPython and type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span>
</pre></div>
</div>
<p>This is a list of locations where python searches for a module when it
encounters an import statement. Hence, when we just did <tt class="docutils literal"><span class="pre">import</span> <span class="pre">sys</span></tt>,
python searches for a file named <tt class="docutils literal"><span class="pre">sys.py</span></tt> or a folder named <tt class="docutils literal"><span class="pre">sys</span></tt> in
all these locations one by one, until it finds one. We can place our script
in any one of these locations and import it.</p>
<p>The first item in the list is an empty string which means the current
working directory is also searched.</p>
<p>Alternatively, we can also import the module if we are working in same
directory where the script exists.</p>
<p>Since we are in /home/fossee, we can simply do</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">gcd_script</span>
</pre></div>
</div>
<p>We can see that the gcd_script is imported. But the test code that we added
at the end of the file is also executed.</p>
<p>But we want the test code to be executed only when the file is run as a
python script and not when it is imported.</p>
<p>This is possible by using <tt class="docutils literal"><span class="pre">__name__</span></tt> variable.</p>
<p>Go to the file and add</p>
<div class="highlight-python"><pre>if __name__ == "__main__":</pre>
</div>
<p>before the test code and indent the test code.</p>
<p>Let us first run the code.</p>
<div class="highlight-python"><pre>$ python gcd_script.py</pre>
</div>
<p>We can see that the test runs successfully.</p>
<p>Now we shall import the file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">gcd_script</span>
</pre></div>
</div>
<p>We see that now the test code is not executed.</p>
<p>The <tt class="docutils literal"><span class="pre">__name__</span></tt> variable is local to every module and it is equal to
<tt class="docutils literal"><span class="pre">__main__</span></tt> only when the file is run as a script. Hence, all the code
that goes in to the if block, <tt class="docutils literal"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;:</span></tt> is executed
only when the file is run as a python script.</p>
</div>
<div class="section" id="object-oriented-programming">
<h2>Object Oriented Programming<a class="headerlink" href="#object-oriented-programming" title="Permalink to this headline">¶</a></h2>
<p>At the end of this section, you will be able to -</p>
<ul class="simple">
<li>Understand the differences between Object Oriented Programming and
Procedural Programming</li>
<li>Appreciate the need for Object Oriented Programming</li>
<li>Read and understand Object Oriented Programs</li>
<li>Write simple Object Oriented Programs</li>
</ul>
<p>Suppose we have a list of talks, to be presented at a conference. How would
we store the details of the talks? We could possibly have a dictionary for
each talk, that contains keys and values for Speaker, Title and Tags of the
talk. Also, say we would like to get the first name of the speaker and the
tags of the talk as a list, when required. We could do it, as below.</p>
<div class="highlight-python"><pre>talk = {'Speaker': 'Guido van Rossum',
        'Title': 'The History of Python'
        'Tags': 'python,history,C,advanced'}

def get_first_name(talk):
    return talk['Speaker'].split()[0]

def get_tags(talk):
    return talk['Tags'].split(',')</pre>
</div>
<p>This is fine, when we have a small number of talks and a small number of
operations that we wish to perform. But, as the number of talks increases,
this gets inconvenient. Say, you are writing another function in some other
module, that uses this <tt class="docutils literal"><span class="pre">talk</span></tt> dictionary, you will also need to pass the
functions that act on <tt class="docutils literal"><span class="pre">talk</span></tt> to that function. This gets quite messy,
when you have a lot of functions and objects.</p>
<p>This is where Objects come in handy. Objects, essentially, group data with
the methods that act on the data into a single block/object.</p>
<div class="section" id="objects-and-methods">
<h3>Objects and Methods<a class="headerlink" href="#objects-and-methods" title="Permalink to this headline">¶</a></h3>
<p>The idea of objects and object oriented programming is being introduced,
now, but this doesn&#8217;t mean that we haven&#8217;t come across objects. Everything
in Python is an object. We have been dealing with objects all the while.
Strings, lists, functions and even modules are objects in Python. As we
have seen, objects combine data along with functions that act upon the
data and we have been seeing this since the beginning. The functions that
are tied to an object are called methods. We have seen various methods,
until now.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Hello World&quot;</span>
<span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">lower</span></tt> is a string method and is being called upon <tt class="docutils literal"><span class="pre">s</span></tt>, which is a
string object. Similarly, <tt class="docutils literal"><span class="pre">append</span></tt> is a list method, which is being
called on the list object <tt class="docutils literal"><span class="pre">l</span></tt>.</p>
<p>Functions are also objects and they can be passed to and returned from
functions, as we have seen in the SciPy section.</p>
<p>Objects are also useful, because the provide a similar interface, without
us needing to bother about which exact type of object we are dealing with.
For example, we can iterate over the items in a sequence, as shown below
without really worrying about whether it&#8217;s a list or a dictionary or a
file-object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">element</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">{</span><span class="s">&#39;one&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}:</span>
    <span class="k">print</span> <span class="n">key</span>
<span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s">&quot;123&quot;</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">char</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;myfile.txt&quot;</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">line</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;http://site.com&#39;</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">line</span>
</pre></div>
</div>
<p>All objects providing a similar inteface can be used the same way.</p>
</div>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<p>When we created a string <tt class="docutils literal"><span class="pre">s</span></tt>, we obtained an object of <tt class="docutils literal"><span class="pre">type</span></tt> string.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Hello World&quot;</span>
<span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">s</span></tt> already comes with all the methods of strings. So, it suggests that
there should be some template, based on which the object <tt class="docutils literal"><span class="pre">s</span></tt> is built.
This template or blueprint to build an object is the Class. The class
definition gives the blueprint for building objects of that kind, and each
<tt class="docutils literal"><span class="pre">object</span></tt> is an <em>instance</em> of that <tt class="docutils literal"><span class="pre">class</span></tt>.</p>
<p>As you would&#8217;ve expected, we can define our own classes in Python. Let us
define a simple Talk class for the example that we started this section
with.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Talk</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A class for the Talks.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speaker</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">tags</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speaker</span> <span class="o">=</span> <span class="n">speaker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span> <span class="nf">get_speaker_firstname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">speaker</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above example introduces a lot of new things. Let us look at it, piece
by piece.</p>
<p>A class is defined using a <tt class="docutils literal"><span class="pre">class</span></tt> block &#8211; the keyword <tt class="docutils literal"><span class="pre">class</span></tt>
followed by the class name, in turn followed by a semicolon. All the
statements within the <tt class="docutils literal"><span class="pre">class</span></tt> are enclosed in it&#8217;s block. Here, we have
defined a class named <tt class="docutils literal"><span class="pre">Talk</span></tt>.</p>
<p>Our class has the same two functions that we had defined before, to get the
speaker firstname and the tags. But along with that, we have a new function
<tt class="docutils literal"><span class="pre">__init__</span></tt>. We will see, what it is, in a short while. By the way, the
functions inside a class are called methods, as you already know. By
design, each method of a class requires to have the same instance of the
class, (i.e., the object) from which it was called as the first argument.
This argument is generally defined using <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">self.speaker</span></tt>, <tt class="docutils literal"><span class="pre">self.title</span></tt> and <tt class="docutils literal"><span class="pre">self.tags</span></tt> are variables that
contain the respective data. So, as you can see, we have combined the data
and the methods operating on it, into a single entity, an object.</p>
<p>Let&#8217;s now initialize a <tt class="docutils literal"><span class="pre">Talk</span></tt> which is equivalent to the example of the
talk, that we started with. Initializing an object is similar to calling a
function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">bdfl</span> <span class="o">=</span> <span class="n">Talk</span><span class="p">(</span><span class="s">&#39;Guido van Rossum&#39;</span><span class="p">,</span>
            <span class="s">&#39;The History of Python&#39;</span><span class="p">,</span>
            <span class="s">&#39;python,history,C,advanced&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We pass the arguments of the <tt class="docutils literal"><span class="pre">__init__</span></tt> function to the class name. We
are creating an object <tt class="docutils literal"><span class="pre">bdfl</span></tt>, that is an instance of the class <tt class="docutils literal"><span class="pre">Talk</span></tt>
and represents the talk by Guido van Rossum on the History of Python. We
can now use the methods of the class, using the dot notation, that we have
been doing all the while.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">bdfl</span><span class="o">.</span><span class="n">get_tags</span><span class="p">()</span>
<span class="n">bdfl</span><span class="o">.</span><span class="n">get_speaker_firstname</span><span class="p">()</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">__init__</span></tt> method is a special method, that is called, each time an
object is created from a class, i.e., an instance of a class is created.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">bdfl</span><span class="o">.</span><span class="n">speaker</span>
<span class="k">print</span> <span class="n">bdfl</span><span class="o">.</span><span class="n">tags</span>
<span class="k">print</span> <span class="n">bdfl</span><span class="o">.</span><span class="n">title</span>
</pre></div>
</div>
<p>As you can see, the <tt class="docutils literal"><span class="pre">__init__</span></tt> method was called and the variables of the
<tt class="docutils literal"><span class="pre">bdfl</span></tt> object have been set. object have been set. Also notice that, the
<tt class="docutils literal"><span class="pre">__init__</span></tt> function takes 4 arguments, but we have passed only three. The
first argument <tt class="docutils literal"><span class="pre">self</span></tt> as we have already seen, is a reference to the
object itself.</p>
</div>
<div class="section" id="inheritance">
<h3>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h3>
<p>Now assume that we have a different category for Tutorials. They are almost
like talks, except that they can be hands-on or not. Now, we do not wish to
re-write the whole code that we wrote for the <tt class="docutils literal"><span class="pre">Talk</span></tt> class. Here, the
idea of inheritance comes in handy. We &#8220;inherit&#8221; the <tt class="docutils literal"><span class="pre">Talk</span></tt> class and
modify it to suit our needs.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Tutorial</span><span class="p">(</span><span class="n">Talk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A class for the tutorials.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speaker</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">handson</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="n">Talk</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speaker</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">handson</span> <span class="o">=</span> <span class="n">handson</span>

    <span class="k">def</span> <span class="nf">is_handson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">handson</span>
</pre></div>
</div>
<p>We have now derived the <tt class="docutils literal"><span class="pre">Tutorial</span></tt> class from the <tt class="docutils literal"><span class="pre">Talk</span></tt> class. The
<tt class="docutils literal"><span class="pre">Tutorial</span></tt> class, has a different <tt class="docutils literal"><span class="pre">__init__</span></tt> method, and a new
<tt class="docutils literal"><span class="pre">is_handson</span></tt> method. But, since it is derived from the <tt class="docutils literal"><span class="pre">Talk</span></tt> method it
also has the methods, <tt class="docutils literal"><span class="pre">get_tags</span></tt> and <tt class="docutils literal"><span class="pre">get_speaker_firstname</span></tt>. This
concept of inheriting methods and values is called inheritance.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">numpy</span> <span class="o">=</span> <span class="n">Tutorial</span><span class="p">(</span><span class="s">&#39;Travis Oliphant&#39;</span><span class="p">,</span> <span class="s">&#39;Numpy Basics&#39;</span><span class="p">,</span> <span class="s">&#39;numpy,python,beginner&#39;</span><span class="p">)</span>
<span class="n">numpy</span><span class="o">.</span><span class="n">is_handson</span><span class="p">()</span>
<span class="n">numpy</span><span class="o">.</span><span class="n">get_speaker_firstname</span><span class="p">()</span>
</pre></div>
</div>
<p>As you can see, it has saved a lot of code duplication and effort.</p>
<p>That brings us to the end of the section on Object Oriented Programming. In
this section we have learnt,</p>
<ul class="simple">
<li>the fundamental difference in paradigm, between Object Oriented
Programming and Procedural Programming</li>
<li>to write our own classes</li>
<li>to write new classes that inherit from existing classes</li>
</ul>
</div>
</div>
<div class="section" id="functional-programming">
<h2>Functional programming<a class="headerlink" href="#functional-programming" title="Permalink to this headline">¶</a></h2>
<p>In this section, we shall look at a different style of programming called
Functional programming, which is supported by Python.</p>
<p>The fundamental idea behind functional programming is that the output of a
function, should not depend on the state of the program. It should only
depend on the inputs to the program and should return the same output,
whenever the function is called with the same arguments. Essentially, the
functions of our code, behave like mathematical functions, where the output
is dependent only on the variables on which the function depends. There is
no &#8220;state&#8221; associated with the program.</p>
<p>Let&#8217;s look at some of the functionality that Python provides for writing
code in the Functional approach.</p>
<div class="section" id="list-comprehensions">
<h3>List Comprehensions<a class="headerlink" href="#list-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s take a very simple problem to illustrate how list comprehensions
work. Let&#8217;s say, we are given a list of weights of people, and we need to
calculate the corresponding weights on the moon. Essentially, return a new
list, with each of the values divided by 6.0.</p>
<p>It&#8217;s a simple problem, and let&#8217;s first solve it using a <tt class="docutils literal"><span class="pre">for</span></tt> loop. We
shall initialize a new empty, list and keep appending the new weights
calculated</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mf">45.5</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mf">55.5</span><span class="p">,</span> <span class="mf">62.5</span><span class="p">]</span>

<span class="n">weights_moon</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weights</span><span class="p">:</span>
    <span class="n">weights_moon</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span>

<span class="k">print</span> <span class="n">weights_moon</span>
</pre></div>
</div>
<p>We had to initialize an empty list, and write a <tt class="docutils literal"><span class="pre">for</span></tt> loop that appends
each of the values to the new list. List comprehensions provide a way of
writing a one liner, that does the same thing, without resorting to
initializing a new empty list. Here&#8217;s how we would do it, using list
comprehensions</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span> <span class="n">w</span><span class="o">/</span><span class="mf">6.0</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weights</span> <span class="p">]</span>
</pre></div>
</div>
<p>As we can see, we have the same list, that we obtained previously, using
the <tt class="docutils literal"><span class="pre">for</span></tt> loop.</p>
<p>Let&#8217;s now look at a slightly more complex example, where we wish to
calculate the weights on the moon, only if the weight on the earth is
greater than 50.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mf">45.5</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mf">55.5</span><span class="p">,</span> <span class="mf">62.5</span><span class="p">]</span>
<span class="n">weights_moon</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weights</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">w</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="n">weights_moon</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span>

<span class="k">print</span> <span class="n">weights_moon</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">for</span></tt> loop above can be translated to a list comprehension as shown</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span> <span class="n">w</span><span class="o">/</span><span class="mf">6.0</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weights</span> <span class="k">if</span> <span class="n">w</span><span class="o">&gt;</span><span class="mi">50</span> <span class="p">]</span>
</pre></div>
</div>
<p>Now, let&#8217;s change the problem again. Say, we wish to give the weight on the
moon (divide by 6), when the weight is greater than 50, otherwise triple
the weight.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mf">45.5</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mf">55.5</span><span class="p">,</span> <span class="mf">62.5</span><span class="p">]</span>
<span class="n">weights_migrate</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weights</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">w</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="n">weights_migrate</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">weights_migrate</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="mf">3.0</span><span class="p">)</span>

<span class="k">print</span> <span class="n">weights_migrate</span>
</pre></div>
</div>
<p>This problem, however, cannot be translated into a list comprehension. We
shall use the  <tt class="docutils literal"><span class="pre">map</span></tt> built-in, to solve the problem in a functional
style.</p>
</div>
<div class="section" id="map">
<h3><tt class="docutils literal"><span class="pre">map</span></tt><a class="headerlink" href="#map" title="Permalink to this headline">¶</a></h3>
<p>But before getting to the more complex problem, let&#8217;s solve the easier
problem of returning the weight on moon for all the weights.</p>
<p>The <tt class="docutils literal"><span class="pre">map</span></tt> function essentially allows us to apply a function to all the
elements of a list, and returns a new list that consists of the outputs
from each of the call. So, to use <tt class="docutils literal"><span class="pre">map</span></tt> we need to define a function,
that takes an input and returns a sixth of it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">moonize</span><span class="p">(</span><span class="n">weight</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">weight</span><span class="o">/</span><span class="mf">6.0</span>
</pre></div>
</div>
<p>Now, that we have our <tt class="docutils literal"><span class="pre">moonize</span></tt> function, we can pass the function and the
list of weights as an argument to <tt class="docutils literal"><span class="pre">map</span></tt> and get the required list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">map</span><span class="p">(</span><span class="n">moonize</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s define a new function, that compares the weight value with 50 and
returns a new value based on the condition.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">migrate</span><span class="p">(</span><span class="n">weight</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">weight</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">weight</span><span class="o">*</span><span class="mf">3.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">weight</span><span class="o">/</span><span class="mf">6.0</span>
</pre></div>
</div>
<p>Now, we can use <tt class="docutils literal"><span class="pre">map</span></tt> to obtain the new weight values</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">map</span><span class="p">(</span><span class="n">migrate</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see, we obtained the result, that we obtained before.</p>
<p>But, defining such functions each time, is slightly inconvenient. We are
not going to use these functions at any later point, in our code. So, it is
slightly wasteful to define functions for this. Wouldn&#8217;t it be nice to
write them, without actually defining functions? Enter <tt class="docutils literal"><span class="pre">lambda</span></tt>!</p>
</div>
<div class="section" id="lambda">
<h3><tt class="docutils literal"><span class="pre">lambda</span></tt><a class="headerlink" href="#lambda" title="Permalink to this headline">¶</a></h3>
<p>Essentially, lambda allows us to define small functions anonymously. The
first example that uses the <tt class="docutils literal"><span class="pre">moonize</span></tt> function can now be re-written as
below, using the lambda function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="mf">6.0</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">lambda</span></tt> above is defining a function, which takes one argument <tt class="docutils literal"><span class="pre">x</span></tt> and
returns a sixth of that argument. The <tt class="docutils literal"><span class="pre">lambda</span></tt> actually returns a
function object which we could in fact assign to a name and use later.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">l_moonize</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="mf">6.0</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">l_moonize</span></tt> function, now behaves similarly to the <tt class="docutils literal"><span class="pre">moonize</span></tt>
function.</p>
<p>The <tt class="docutils literal"><span class="pre">migrate</span></tt> function can be written using a lambda function as below</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">l_migrate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="mf">3.0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="k">else</span> <span class="n">x</span><span class="o">/</span><span class="mf">6.0</span>
</pre></div>
</div>
<p>If you observed, we have carefully avoided the discussion of the example
where only the weights that were above 50 were calculated and returned.
This is because, this cannot be done using <tt class="docutils literal"><span class="pre">map</span></tt>. We may return <tt class="xref docutils literal"><span class="pre">None</span></tt>
instead of calculating a sixth of the element, but we cannot ensure that
the element is not present in the new list.</p>
<p>This can be done using <tt class="docutils literal"><span class="pre">filter</span></tt> and <tt class="docutils literal"><span class="pre">map</span></tt> in conjunction.</p>
</div>
<div class="section" id="filter">
<h3><tt class="docutils literal"><span class="pre">filter</span></tt><a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">filter</span></tt> function, like the <tt class="docutils literal"><span class="pre">map</span></tt> takes two arguments, a function
and a sequence and calls the function for each element of the sequence. The
output of <tt class="docutils literal"><span class="pre">filter</span></tt> is a sequence consisting of elements for which the
function returned <tt class="xref docutils literal"><span class="pre">True</span></tt></p>
<p>The problem of returning a sixth of only those weights which are more than
50, can be solved as below</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="mf">6.0</span><span class="p">,</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="n">weights</span><span class="p">))</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">filter</span></tt> function returns a list containing only the values which are
greater than 50.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="reduce">
<h3><tt class="docutils literal"><span class="pre">reduce</span></tt><a class="headerlink" href="#reduce" title="Permalink to this headline">¶</a></h3>
<p>As, the name suggests, <tt class="docutils literal"><span class="pre">reduce</span></tt> reduces a sequence to a single object.
<tt class="docutils literal"><span class="pre">reduce</span></tt> takes two arguments, a function and a sequence, but the function
should take two arguments as input.</p>
<p><tt class="docutils literal"><span class="pre">reduce</span></tt> initially passes the first two elements as arguments, and
continues iterating of the sequence and passes the output of the previous
call with the current element, as the arguments to the function. The final
result therefore, is just a single element.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>multiplies all the elements of the list and returns <tt class="docutils literal"><span class="pre">24</span></tt>.</p>
</div>
</div>
<div class="section" id="sage-notebook">
<h2>Sage notebook<a class="headerlink" href="#sage-notebook" title="Permalink to this headline">¶</a></h2>
<p>In this section, we will learn what Sage is, what is Sage notebook, how to
start and use the sage notebook. In the notebook we will be specifically
learning how to execute our code, how to write annotations and other
content, typesetting the content and how to use the offline help available.</p>
<p>To start with, What is Sage? Sage is a free, open-source mathematical
software. Sage can do a lot of math stuff for you including, but not
limited to, algebra, calculus, geometry, cryptography, graph theory among
other things. It can also be used as aid in teaching and research in any of
the areas that Sage supports. So let us start Sage now</p>
<p>We are assuming that you have Sage installed on your computer now. If not
please visit the page
<a class="reference external" href="http://sagemath.org/doc/tutorial/introduction.html#installation">http://sagemath.org/doc/tutorial/introduction.html#installation</a> for the
tutorial on how to install Sage.</p>
<p>Let us now learn how to start Sage. On the terminal type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sage</span>
</pre></div>
</div>
<p>This should start a new Sage shell with the prompt sage: which looks like
this</p>
<div class="highlight-python"><pre>sage:</pre>
</div>
<p>So now we can type all the commands that Sage supports here. But Sage comes
bundled with a much more elegant tool called Sage Notebook. It provides a
web based user interface to use Sage. So once we have a Sage notebook
server up and running, all we need is a browser to access the Sage
functionality.</p>
<p>We could also use a server run by somebody, else like the official instance
of the Sage server at <a class="reference external" href="http://sagenb.org">http://sagenb.org</a>. So all we need is just a browser,
a modern browser, to use Sage and nothing else! The Sage notebook also
provides a convenient way of sharing and publishing our work, which is very
handy for research and teaching.</p>
<p>However we can also run our own instances of Sage notebook servers on all
the computers we have a local installation of Sage. To start the notebook
server just type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">notebook</span><span class="p">()</span>
</pre></div>
</div>
<p>on the Sage prompt. This will start the Sage Notebook server. If we are
starting the notebook server for the first time, we are prompted to enter
the password for the admin. Type the password and make a note of it. After
this Sage automatically starts a browser page, with the notebook opened.</p>
<p>If it doesn&#8217;t automatically start a browser page check if the Notebook
server started and there were no problems. If so open your browser and in
the address bar type the URL shown in the instructions upon running the
notebook command on the sage prompt.</p>
<p>If you are not logged in yet, it shows the Notebook home page and textboxes
to type the username and the password. You can use the username &#8216;admin&#8217; and
the password you gave while starting the notebook server for the first
time. There are also links to recover forgotten password and to create new
accounts.</p>
<p>Once we are logged in with the admin account we can see the notebook admin
page. A notebook can contain a collection of Sage Notebook worksheets.</p>
<p>Worksheet is basically a working area. This is where we enter all the Sage
commands on the notebook.</p>
<p>The admin page lists all the worksheets created. On the topmost part of
this page we have the links to various pages.</p>
<p>The home link takes us to the admin home page. The published link takes us
to the page which lists all the published worksheets. The log link has the
complete log of all the actions we did on the notebook. We have the
settings link where we can configure our notebook, the notebook server,
create and mangage accounts. We have a link to help upon clicking opens a
new window with the complete help of Sage. The entire documentation of Sage
is supplied with Sage for offline reference and the help link is the way to
get into it. Then we can report bugs about Sage by clicking on Report a
Problem link and there is a link to sign out of the notebook.</p>
<p>We can create a new worksheet by clicking New Worksheet link</p>
<p>Sage prompts you for a name for the worksheet. Let us name the worksheet as
nbtutorial. Now we have our first worksheet which is empty.</p>
<p>A worksheet will contain a collection of cells. Every Sage command must be
entered in this cell. Cell is equivalent to the prompt on console. When we
create a new worksheet, to start with we will have one empty cell. Let us
try out some math here</p>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
<span class="mf">57.1</span> <span class="o">^</span> <span class="mi">100</span>
</pre></div>
</div>
<p>The hat operator is used for exponentiation. We can observe that only the
output of the last command is displayed. By default each cell displays the
result of only the last operation. We have to use print statement to
display all the results we want to be displayed.</p>
<p>Now to perform more operations we want more cells. So how do we create a
new cell? It is very simple. As we hover our mouse above or below the
existing cells we see a blue line, by clicking on this new line we can
create a new cell.</p>
<p>We have a cell, we have typed some commands in it, but how do we evaluate
that cell? Pressing Shift along with Enter evaluates the cell.
Alternatively we can also click on the evaluate link to evaluate the cell</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>After we create many cells, we may want to move between the cells. To move
between the cells use Up and Down arrow keys. Also clicking on the cell
will let you edit that particular cell.</p>
<p>To delete a cell, clear the contents of the cell and hit backspace.</p>
<p>If you want to add annotations in the worksheet itself on the blue line
that appears on hovering the mouse around the cell, Hold Shift and click on
the line. This creates a <em>What You See Is What You Get</em> cell.</p>
<p>We can make our text here rich text. We can make it bold, Italics, we can
create bulleted and enumerated lists in this area</p>
<div class="highlight-python"><pre>This text contains both the **bold** text and also *italicised*
text.
It also contains bulleted list:
* Item 1
* Item 2
It also contains enumerate list:
1. Item 1
2. Item 2</pre>
</div>
<p>In the same cell we can display typeset math using the LaTeX like syntax</p>
<div class="highlight-python"><pre>$\int_0^\infty e^{-x} \, dx$</pre>
</div>
<p>We enclose the math to be typeset within $ and $ or $$ and $$ as in LaTeX.</p>
<p>We can also obtain help for a particular Sage command or function within
the worksheet itself by using a question mark following the command</p>
<div class="highlight-python"><pre>sin?</pre>
</div>
<p>Evaluating this cell gives me the entire help for the sin function inline
on the worksheet itself. Similarly we can also look at the source code of
each command or function using double question mark</p>
<div class="highlight-python"><pre>matrix??</pre>
</div>
<p>Sage notebook also provides the feature for autocompletion. To auto-complete
a command type first few unique characters and hit tab key</p>
<div class="highlight-python"><pre>sudo&lt;tab&gt;</pre>
</div>
<p>To see all the commands starting with a specific name type those characters
and hit tab</p>
<div class="highlight-python"><pre>plo&lt;tab&gt;</pre>
</div>
<p>To list all the methods that are available for a certain variable or a
data-type we can use the variable name followed by the dot to access the
methods available on it and then hit tab</p>
<div class="highlight-python"><pre>s = 'Hello'
s.rep&lt;tab&gt;</pre>
</div>
<p>The output produced by each cell can be one of the three states. It can be
either the full output, or truncated output or hidden output. The output
area will display the error if the Sage code we wrote in the cell did not
successfully execute</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<p>The default output we obtained now is a truncated output. Clicking at the
left of the output area when the mouse pointer turns to hand gives us the
full output, clicking again makes the output hidden and it cycles.</p>
<p>Lastly, Sage supports a variety of languages and each cell on the worksheet
can contain code written in a specific language. It is possible to instruct
Sage to interpret the code in the language we have written. This can be
done by putting percentage sign(%) followed by the name of the language.
For example, to interpret the cell as Python code we put</p>
<div class="highlight-python"><pre>%python</pre>
</div>
<p>as the first line in the cell. Similarly we have: %sh for shell scripting,
%fortran for Fortran, %gap for GAP and so on. Let us see how this works.
Say we have an integer. The type of the integer in default Sage mode is</p>
<div class="highlight-python"><pre>a = 1
type(a)

Output: &lt;type 'sage.rings.integer.Integer'&gt;</pre>
</div>
<p>We see that Integers are Sage Integers. Now let us put %python as the first
line of the cell and execute the same code snippet</p>
<div class="highlight-python"><pre>%python
a = 1
type(a)

Output: &lt;type 'int'&gt;</pre>
</div>
<p>Now we see that the integer is a Python integer. Why? Because now we
instructed Sage to interpret that cell as Python code.</p>
<p>This brings us to the end of the section on using Sage.</p>
</div>
<div class="section" id="symbolics">
<h2>Symbolics<a class="headerlink" href="#symbolics" title="Permalink to this headline">¶</a></h2>
<p>In this section, we shall learn to define symbolic expressions in Sage, use
built-in constants and functions, perform integration and differentiation
using Sage, define matrices and symbolic functions and simplify and solve
them.</p>
<p>In addtion to a lot of other things, Sage can do Symbolic Math and we shall
start with defining symbolic expressions in Sage.</p>
<p>On the sage notebook type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>It raises a name error saying that <tt class="docutils literal"><span class="pre">y</span></tt> is not defined. We need to declare
<tt class="docutils literal"><span class="pre">y</span></tt> as a symbol. We do it using the <tt class="docutils literal"><span class="pre">var</span></tt> function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now if you type</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Sage simply returns the expression.</p>
<p>Sage treats <tt class="docutils literal"><span class="pre">sin(y)</span></tt> as a symbolic expression. We can use this to do
symbolic math using Sage&#8217;s built-in constants and expressions.</p>
<p>Let us try out a few examples.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;x, alpha, y, beta&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="n">alpha</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="n">beta</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>We have defined 4 variables, <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, <tt class="docutils literal"><span class="pre">alpha</span></tt> and <tt class="docutils literal"><span class="pre">beta</span></tt> and
have defined a symbolic expression using them.</p>
<p>Here is an expression in <tt class="docutils literal"><span class="pre">theta</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;theta&#39;</span><span class="p">)</span>
<span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">+</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p>Sage also provides built-in constants which are commonly used in
mathematics, for instance pi, e, infinity. The function <tt class="docutils literal"><span class="pre">n</span></tt> gives the
numerical values of all these constants.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="n">n</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="n">n</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span>
</pre></div>
</div>
<p>If you look into the documentation of function <tt class="docutils literal"><span class="pre">n</span></tt> by doing</p>
<div class="highlight-python"><pre>n?</pre>
</div>
<p>You will see what all arguments it takes and what it returns. It will be
very helpful if you look at the documentation of all functions introduced,
in this section.</p>
<p>Also we can define the number of digits we wish to have in the constants.
For this we have to pass an argument &#8211; digits.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Apart from the constants Sage also has a lot of built-in functions like
<tt class="docutils literal"><span class="pre">sin</span></tt>, <tt class="docutils literal"><span class="pre">cos</span></tt>, <tt class="docutils literal"><span class="pre">log</span></tt>, <tt class="docutils literal"><span class="pre">factorial</span></tt>, <tt class="docutils literal"><span class="pre">gamma</span></tt>, <tt class="docutils literal"><span class="pre">exp</span></tt>, <tt class="docutils literal"><span class="pre">arcsin</span></tt>
etc ...</p>
<p>Lets try some of them out on the Sage notebook.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sin</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="n">arctan</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span>

<span class="n">log</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>Given that we have defined variables like x, y etc., we can define an
arbitrary function with desired name</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">function</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Here f is the name of the function and x is the independent variable .
Now we can define f(x) to be</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluating this function f for the value x=pi returns pi/2.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also define functions that are not continuous but defined piece-wise.
Let us define a function which is a parabola between 0 to 1 and a constant
from 1 to 2 .</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=</span><span class="mi">1</span>

<span class="n">f</span><span class="o">=</span><span class="n">Piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">h</span><span class="p">(</span><span class="n">x</span><span class="p">)],[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)]],</span><span class="n">x</span><span class="p">)</span>
<span class="n">f</span>
</pre></div>
</div>
<p>We can also define functions convergent series and other series.</p>
<p>We first define a function f(n) in the way discussed above.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;n&#39;</span><span class="p">)</span>
<span class="n">function</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>To sum the function for a range of discrete values of n, we use the
sage function sum.</p>
<p>For a convergent series , f(n)=1/n^2 we can say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;n&#39;</span><span class="p">)</span>
<span class="n">function</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
</pre></div>
</div>
<p>Lets us now try another series</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
</pre></div>
</div>
<p>This series converges to pi/4.</p>
<p>Let&#8217;s now look at some calculus.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>The diff function differentiates an expression or a function. It&#8217;s first
argument is expression or function and second argument is the independent
variable.</p>
<p>We have already tried an expression now lets try a function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">arcsin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>To get a higher order differential we need to add an extra third argument
for order</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>in this case it is 3.</p>
<p>Just like differentiation of expression you can also integrate them</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">integral</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span><span class="n">x</span><span class="p">)</span>
<span class="n">s</span>
</pre></div>
</div>
<p>Many a times we need to find factors of an expression, we can use the
&#8220;factor&#8221; function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">100</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">70</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">factor</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>One can simplify complicated expression</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
</pre></div>
</div>
<p>This simplifies the expression fully. We can also do simplification of
just the algebraic part and the trigonometric part</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="o">.</span><span class="n">simplify_exp</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
</pre></div>
</div>
<p>One can also find roots of an equation by using <tt class="docutils literal"><span class="pre">find_root</span></tt> function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">phi</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;phi&#39;</span><span class="p">)</span>
<span class="n">find_root</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span><span class="o">==</span><span class="n">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s substitute this solution into the equation and see we were
correct</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;phi&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span><span class="o">=</span><span class="n">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span><span class="o">-</span><span class="n">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">root</span><span class="o">=</span><span class="n">find_root</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">phi</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
</pre></div>
</div>
<p>as we can see when we substitute the value the answer is almost = 0 showing
the solution we got was correct.</p>
<p>Lets us now try some matrix algebra symbolically</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;a,b,c,d&#39;</span><span class="p">)</span>
<span class="n">A</span><span class="o">=</span><span class="n">matrix</span><span class="p">([[</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">]])</span>
<span class="n">A</span>
</pre></div>
</div>
<p>Now lets do some of the matrix operations on this matrix</p>
<dl class="docutils">
<dt>::</dt>
<dd>A.det()
A.inverse()</dd>
</dl>
<p>That brings us to the end of our discussion on symbolics.</p>
</div>
<div class="section" id="plotting-using-sage">
<h2>Plotting using Sage<a class="headerlink" href="#plotting-using-sage" title="Permalink to this headline">¶</a></h2>
<p>In this section we shall look at</p>
<blockquote>
<div><ul class="simple">
<li>2D plotting in SAGE</li>
<li>3D plotting in SAGE</li>
</ul>
</div></blockquote>
<p>We shall first create a symbolic variable <tt class="docutils literal"><span class="pre">x</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We shall plot the function <tt class="docutils literal"><span class="pre">sin(x)</span> <span class="pre">-</span> <span class="pre">cos(x)</span> <span class="pre">^</span> <span class="pre">2</span></tt> in the range (-5, 5).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">^</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>As we can see, the plot is shown.</p>
<p><tt class="docutils literal"><span class="pre">plot</span></tt> command takes the symbolic function as the first argument and the
range as the second argument.</p>
<p>We have seen that plot command plots the given function on a linear range.</p>
<p>What if the x and y values are functions of another variable. For instance,
lets plot the trajectory of a projectile.</p>
<p>A projectile was thrown at 50 m/s^2 and at an angle of 45 degrees from the
ground. We shall plot the trajectory of the particle for 5 seconds.</p>
<p>These types of plots can be drawn using the parametric_plot function. We
first define the time variable.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we define the x and y as functions of t.</p>
<div class="highlight-python"><pre>f_x = 50 * cos(pi/4)
f_y = 50 * sin(pi/4) * t - 1/2 * 9.81 * t^2 )</pre>
</div>
<p>We then call the <tt class="docutils literal"><span class="pre">parametric_plot</span></tt> function as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">parametric_plot</span><span class="p">((</span><span class="n">f_x</span><span class="p">,</span> <span class="n">f_y</span><span class="p">),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>And we can see the trajectory of the projectile.</p>
<p>The <tt class="docutils literal"><span class="pre">parametric_plot</span></tt> funciton takes a tuple of two functions as the
first argument and the range over which the independent variable varies as
the second argument.</p>
<p>Now we shall look at how to plot a set of points.</p>
<p>We have the <tt class="docutils literal"><span class="pre">line</span></tt> function to achieve this.</p>
<p>We shall plot sin(x) at few points and join them.</p>
<p>First we need the set of points.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">points</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">pi</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">pi</span><span class="p">),</span> <span class="mf">0.75</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">srange</span></tt> takes a start, a stop and a step argument and returns a list of
point. We generate list of tuples in which the first value is <tt class="docutils literal"><span class="pre">x</span></tt> and
second is <tt class="docutils literal"><span class="pre">sin(x)</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">line</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
</pre></div>
</div>
<p>plots the points and joins them with a line.</p>
<p>The <tt class="docutils literal"><span class="pre">line</span></tt> function behaves like the plot command in matplotlib. The
difference is that <tt class="docutils literal"><span class="pre">plot</span></tt> command takes two sequences while line command
expects a sequence of co-ordinates.</p>
<p>As we can see, the axes limits are set by SAGE. Often we would want to set
them ourselves. Moreover, the plot is shown here since the last command
that is executed produces a plot.</p>
<p>Let us try this example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>
<span class="c"># Does the plot show up??</span>
</pre></div>
</div>
<p>As we can see here, the plot is not shown since the last command does not
produce a plot.</p>
<p>The actual way of showing a plot is to use the <tt class="docutils literal"><span class="pre">show</span></tt> command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="c"># What happens now??</span>
</pre></div>
</div>
<p>As we can see the plot is shown since we used it with <tt class="docutils literal"><span class="pre">show</span></tt> command.</p>
<p><tt class="docutils literal"><span class="pre">show</span></tt> command is also used set the axes limits.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span>
</pre></div>
</div>
<p>As we can see, we just have to pass the right keyword arguments to the
<tt class="docutils literal"><span class="pre">show</span></tt> command to set the axes limits.</p>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> command can also be used to show multiple plots.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">p1</span><span class="o">+</span><span class="n">p2</span><span class="p">)</span>
</pre></div>
</div>
<p>As we can see, we can add the plots and use them in the <tt class="docutils literal"><span class="pre">show</span></tt> command.</p>
<p>Now we shall look at 3D plotting in SAGE.</p>
<p>We have the <tt class="docutils literal"><span class="pre">plot3d</span></tt> function that takes a function in terms of two
independent variables and the range over which they vary.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;x y&#39;</span><span class="p">)</span>
<span class="n">plot3d</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>We get a 3D plot which can be rotated and zoomed using the mouse.</p>
<p><tt class="docutils literal"><span class="pre">parametric_plot3d</span></tt> function plots the surface in which x, y and z are
functions of another variable.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&quot;u v&quot;</span><span class="p">)</span>
<span class="n">f_x</span> <span class="o">=</span> <span class="n">u</span>
<span class="n">f_y</span> <span class="o">=</span> <span class="n">v</span>
<span class="n">f_z</span> <span class="o">=</span> <span class="n">u</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">v</span><span class="o">^</span><span class="mi">2</span>
<span class="n">parametric_plot3d</span><span class="p">((</span><span class="n">f_x</span><span class="p">,</span> <span class="n">f_y</span><span class="p">,</span> <span class="n">f_z</span><span class="p">),</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="using-sage">
<h2>Using Sage<a class="headerlink" href="#using-sage" title="Permalink to this headline">¶</a></h2>
<p>In this section we shall quickly look at a few examples of using Sage for
Linear Algebra, Calculus, Graph Theory and Number theory.</p>
<p>Let us begin with Calculus. We shall be looking at limits, differentiation,
integration, and Taylor polynomial.</p>
<p>To find the limit of the function x*sin(1/x), at x=0, we say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lim</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>We get the limit to be 0, as expected.</p>
<p>It is also possible to the limit at a point from one direction. For
example, let us find the limit of 1/x at x=0, when approaching from the
positive side.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lim</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s">&#39;above&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To find the limit from the negative side, we say,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lim</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s">&#39;below&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us now see how to differentiate, using Sage. We shall find the
differential of the expression <tt class="docutils literal"><span class="pre">exp(sin(x^2))/x</span></tt> w.r.t <tt class="docutils literal"><span class="pre">x</span></tt>. We shall
first define the expression, and then use the <tt class="docutils literal"><span class="pre">diff</span></tt> function to obtain
the differential of the expression.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="n">x</span>

<span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also obtain the partial differentiation of an expression w.r.t one
of the variables. Let us differentiate the expression <tt class="docutils literal"><span class="pre">exp(sin(y</span> <span class="pre">-</span>
<span class="pre">x^2))/x</span></tt> w.r.t x and y.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;x y&#39;</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="n">x</span>

<span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, let us look at integration. We shall use the expression obtained from
the differentiation that we did before, <tt class="docutils literal"><span class="pre">diff(f,</span> <span class="pre">y)</span></tt> &#8212; <tt class="docutils literal"><span class="pre">e^(sin(-x^2</span> <span class="pre">+</span>
<span class="pre">y))*cos(-x^2</span> <span class="pre">+</span> <span class="pre">y)/x</span></tt>. The <tt class="docutils literal"><span class="pre">integrate</span></tt> command is used to obtain the
integral of an expression or function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">integrate</span><span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>We get back the correct expression. The minus sign being inside or outside
the <tt class="docutils literal"><span class="pre">sin</span></tt> function doesn&#8217;t change much.</p>
<p>Now, let us find the value of the integral between the limits 0 and pi/2.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">integral</span><span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us now see how to obtain the Taylor expansion of an expression using
sage. Let us obtain the Taylor expansion of <tt class="docutils literal"><span class="pre">(x</span> <span class="pre">+</span> <span class="pre">1)^n</span></tt> up to degree 4
about 0.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">var</span><span class="p">(</span><span class="s">&#39;x n&#39;</span><span class="p">)</span>
<span class="n">taylor</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>This brings us to the end of the features of Sage for Calculus, that we
will be looking at. For more, look at the Calculus quick-ref from the Sage
Wiki.</p>
<p>Next let us move on to Matrix Algebra.</p>
<p>Let us begin with solving the equation <tt class="docutils literal"><span class="pre">Ax</span> <span class="pre">=</span> <span class="pre">v</span></tt>, where A is the matrix
<tt class="docutils literal"><span class="pre">matrix([[1,2],[3,4]])</span></tt> and v is the vector <tt class="docutils literal"><span class="pre">vector([1,2])</span></tt>.</p>
<p>To solve the equation, <tt class="docutils literal"><span class="pre">Ax</span> <span class="pre">=</span> <span class="pre">v</span></tt> we simply say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">solve_right</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>To solve the equation, <tt class="docutils literal"><span class="pre">xA</span> <span class="pre">=</span> <span class="pre">v</span></tt> we simply say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">solve_left</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>The left and right here, denote the position of <tt class="docutils literal"><span class="pre">A</span></tt>, relative to x.</p>
<p>Now, let us look at Graph Theory in Sage.</p>
<p>We shall look at some ways to create graphs and some of the graph families
available in Sage.</p>
<p>The simplest way to define an arbitrary graph is to use a dictionary of
lists. We create a simple graph by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">({</span><span class="mi">0</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">:[</span><span class="mi">4</span><span class="p">]})</span>
</pre></div>
</div>
<p>We say</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">G</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>to view the visualization of the graph.</p>
<p>Similarly, we can obtain a directed graph using the <tt class="docutils literal"><span class="pre">DiGraph</span></tt> function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">G</span> <span class="o">=</span> <span class="n">DiGraph</span><span class="p">({</span><span class="mi">0</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">:[</span><span class="mi">4</span><span class="p">]})</span>
</pre></div>
</div>
<p>Sage also provides a lot of graph families which can be viewed by typing
<tt class="docutils literal"><span class="pre">graph.&lt;tab&gt;</span></tt>. Let us obtain a complete graph with 5 vertices and then
show the graph.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="n">G</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Sage provides other functions for Number theory and Combinatorics. Let&#8217;s
have a glimpse of a few of them.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">prime_range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>gives primes in the range 100 to 200.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">is_prime</span><span class="p">(</span><span class="mi">1999</span><span class="p">)</span>
</pre></div>
</div>
<p>checks if 1999 is a prime number or not.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">factor</span><span class="p">(</span><span class="mi">2001</span><span class="p">)</span>
</pre></div>
</div>
<p>gives the factorized form of 2001.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span> <span class="o">=</span> <span class="n">Permutations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">C</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</pre></div>
</div>
<p>gives the permutations of <tt class="docutils literal"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span> <span class="o">=</span> <span class="n">Combinations</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">C</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</pre></div>
</div>
<p>gives all the combinations of <tt class="docutils literal"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span></tt></p>
<p>That brings us to the end of this session showing various features
available in Sage.</p>
</div>
<div class="section" id="using-sage-to-teach">
<h2>Using Sage to Teach<a class="headerlink" href="#using-sage-to-teach" title="Permalink to this headline">¶</a></h2>
<p>In this section, we shall look at</p>
<blockquote>
<div><ul class="simple">
<li>How to use the &#8220;&#64;interact&#8221; feature of SAGE for better demonstration</li>
<li>How to use SAGE for collaborative learning</li>
</ul>
</div></blockquote>
<p>Let us look at a typical example of demonstrating a damped oscillation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
</pre></div>
</div>
<p>Now let us reduce the damping factor</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
</pre></div>
</div>
<p>Now if we want to reduce the damping factor even more, we would be using
e^(-t/3). We can observe that every time we have to change, all we do is
change something very small and re evaluate the cell.</p>
<p>This process can be simplified, using the <tt class="docutils literal"><span class="pre">&#64;interact</span></tt> feature of SAGE.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@interact</span>
<span class="k">def</span> <span class="nf">plot_damped</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
    <span class="n">p1</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
    <span class="n">show</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
</pre></div>
</div>
<p>We can see that the function is evaluated and the plot is shown. We can
also see that there is a field to enter the value of <tt class="docutils literal"><span class="pre">n</span></tt> and it is
currently set to <tt class="docutils literal"><span class="pre">1</span></tt>. Let us change it to 2 and hit enter.</p>
<p>We see that the new plot with reduced damping factor is shown. Similarly we
can change <tt class="docutils literal"><span class="pre">n</span></tt> to any desired value and hit enter and the function will
be evaluated.</p>
<p>This is a very handy tool while demonstrating or teaching.</p>
<p>Often we would want to vary a parameter over range instead of taking it as
an input from the user. For instance we do not want the user to give <tt class="docutils literal"><span class="pre">n</span></tt>
as 0 for the damping oscillation we discussed. In such cases we use a range
of values as the default argument.</p>
<div class="highlight-python"><pre>@interact
def plot_damped(n=(1..10)):
    t = var('t')
    p1 = plot( e^(-t/n) * sin(2*t), (t, 0, 20))
    show(p1)</pre>
</div>
<p>We get similar plot but the only difference is the input widget. Here it is
a slider unlike an input field. We can see that as the slider is moved, the
function is evaluated and plotted accordingly.</p>
<p>Sometimes we want the user to have only a given set of options. We use a
list of items as the default argument in such situations.</p>
<div class="highlight-python"><pre>@interact
def str_shift(s="STRING", shift=(0..8), direction=["Left", "Right"]):
    shift_len = shift % len(s)
    chars = list(s)
    if direction == "Right":
        shifted_chars = chars[-shift_len:] + chars[:-shift_len]
    else:
        shifted_chars = chars[shift_len:] + chars[:shift_len]
    print "Actual String:", s
    print "Shifted String:", "".join(shifted_chars)</pre>
</div>
<p>We can see that buttons are displayed which enables us to select from a
given set of options.</p>
<p>We have learnt how to use the <tt class="docutils literal"><span class="pre">&#64;interact</span></tt> feature of SAGE for better
demonstration. We shall look at how to use SAGE worksheets for
collaborative learning.</p>
<p>The first feature we shall see is the <tt class="docutils literal"><span class="pre">publish</span></tt> feature. Open a worksheet
and in the top right, we can see a button called <tt class="docutils literal"><span class="pre">publish</span></tt>. Click on that
and we get a confirmation page with an option for re publishing.</p>
<p>For now lets forget that option and simply publish by clicking <tt class="docutils literal"><span class="pre">yes</span></tt>. The
worksheet is now published.</p>
<p>Now lets sign out and go to the sage notebook home. We see link to browse
published worksheets. Lets click on it and we can see the worksheet. This
does not require login and anyone can view the worksheet.</p>
<p>Alternatively, if one wants to edit the sheet, there is a link on top left
corner that enables the user to download a copy of the sheet onto their
home. This way they can edit a copy of the worksheet.</p>
<p>We have learnt how to publish the worksheets to enable users to edit a
copy. Next, we shall look at how to enable users to edit the actual
worksheet itself.</p>
<p>Let us open the worksheet and we see a link called <tt class="docutils literal"><span class="pre">share</span></tt> on the top
right corner of the worksheet. Click the link and we get a box where we can
type the usernames of users whom we want to share the worksheet with. We
can even specify multiple users by seperating their names using commas.
Once we have shared the worksheet, the worksheet appears on the home of
shared users.</p>
<div class="section" id="rest">
<h3>ReST<a class="headerlink" href="#rest" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-pythonic-way-to-document">
<h4>The Pythonic way to Document<a class="headerlink" href="#the-pythonic-way-to-document" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="what-is-rest">
<h3>What is ReST?<a class="headerlink" href="#what-is-rest" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Sage Docs - Linear Algebra | Sources</li>
<li>ReST is a lightweight markup language.</li>
<li>Developed by the Python community</li>
<li>Heavily used in documentation of Python code</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="why-rest">
<h3>Why ReST?<a class="headerlink" href="#why-rest" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Highly readable source format.</li>
<li>Easy to learn and write.</li>
<li>Simple yet Powerful markup that can produce html/LaTeX output.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tools-used">
<h3>Tools used<a class="headerlink" href="#tools-used" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>You will need python-docutils to compile your ReST documents</li>
</ul>
</div></blockquote>
<div class="highlight-python"><pre>  sudo apt-get install python-docutils

+ To build websites, look at Sphinx, rest2web, etc.
+ rst2html doesn't support math. We shall use Sphinx to see how math works</pre>
</div>
<div class="highlight-python"><pre>sudo apt-get install python-sphinx</pre>
</div>
</div>
<div class="section" id="generating-output">
<h3>Generating output<a class="headerlink" href="#generating-output" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">html:</p>
<div class="highlight-python"><pre>rst2html source.rst destination.html</pre>
</div>
</li>
<li><p class="first">LaTeX</p>
<div class="highlight-python"><pre>rst2latex source.rst destination.tex</pre>
</div>
</li>
<li><p class="first">Slide shows</p>
<div class="highlight-python"><pre>rst2s5 source.rst destination.html</pre>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="paragraph">
<h3>Paragraph<a class="headerlink" href="#paragraph" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">The most basic structural element</p>
</li>
<li><p class="first">Just a chunk of text separated by blank lines.</p>
</li>
<li><p class="first">Must begin at the left edge margin.</p>
</li>
<li><p class="first">Indented paragraphs are output as quoted text.</p>
</li>
<li><p class="first">Example</p>
<div class="highlight-python"><pre>Sage provides standard constructions from linear algebra,
e.g., the characteristic polynomial, echelon form, trace,
decomposition, etc., of a matrix.</pre>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="section-headings">
<h3>Section Headings<a class="headerlink" href="#section-headings" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Single line of text with adornment</p>
</li>
<li><p class="first">Adornment is underline alone or an over- and underline</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">-</span> <span class="pre">=</span> <span class="pre">`</span> <span class="pre">:</span>&nbsp; <span class="pre">'</span> <span class="pre">&quot;</span> <span class="pre">~</span>&nbsp; <span class="pre">^</span> <span class="pre">_</span> <span class="pre">*</span>&nbsp; <span class="pre">+</span> <span class="pre">#</span> <span class="pre">&lt;</span>&nbsp; <span class="pre">&gt;</span></tt> can be used for adornment</p>
</li>
<li><p class="first">All headings with same adornment are at same level</p>
</li>
<li><p class="first"><strong>NOTE</strong>- The over/under line should be at least as long as the heading</p>
<div class="highlight-python"><pre>Linear Algebra
==============

Matrix spaces
-------------

Sparse Linear Algebra
---------------------</pre>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="text-styles">
<h3>Text Styles<a class="headerlink" href="#text-styles" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Markup text</th>
<th class="head">Resulting text</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">*italics*</span></tt></td>
<td><em>italics</em></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">**strong**</span></tt></td>
<td><strong>strong</strong></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">``inline</span> <span class="pre">literal``</span></tt></td>
<td><tt class="docutils literal"><span class="pre">inline</span> <span class="pre">literal</span></tt></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="code-samples">
<h3>Code Samples<a class="headerlink" href="#code-samples" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">To include code, end the prior paragraph with =::=</p>
</li>
<li><p class="first">Code needs to be indented one level</p>
</li>
<li><p class="first">The code block ends, when text falls back to the previous indentation</p>
</li>
<li><p class="first">For instance</p>
<div class="highlight-python"><pre>For example, each of the following is legal ::

  plot(x, y)         # plot x and y using default line style and color
  plot(x, y, 'bo')   # plot x and y using blue circle markers
  plot(y)            # plot y using x as index array 0..N-1
  plot(y, 'r+')      # ditto, but with red plusses</pre>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="math">
<h3>Math<a class="headerlink" href="#math" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">ReST in itself doesn&#8217;t support math</p>
</li>
<li><dl class="first docutils">
<dt>Sphinx has support for math using ~jsmath~ or ~pngmath~</dt>
<dd><div class="first last highlight-python"><pre>:math: `3 \times 3`

.. math::

\sum_{n=0}^N x_n = y</pre>
</div>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Three flavors - Enumerated, Bulleted, Definition</p>
</li>
<li><p class="first">Always start as a new paragraph &#8212; preceeded by a new line</p>
</li>
<li><p class="first">Enumerated</p>
<blockquote>
<div><p>Number or Letter followed by a =.=,  =)= or surrounded by =( )=.</p>
</div></blockquote>
<div class="highlight-python"><pre>1) Numbers
#) auto numbered
A. Upper case letters
a) lower case letters
i) roman numerals
(I) more roman numerals</pre>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id1">
<h3>Lists ...<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Bulleted lists</p>
<blockquote>
<div><p>Start a line with -, + or *</p>
</div></blockquote>
</li>
</ul>
<div class="highlight-python"><pre>* a bullet point using "*"

  - a sub-list using "-"

    + yet another sub-list

  - another item</pre>
</div>
</div></blockquote>
</div>
<div class="section" id="id2">
<h3>Lists ...<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Definition Lists<ul>
<li>Consist of Term, and it&#8217;s definition.</li>
<li>Term is one line phrase; Definition is one or more paragraphs</li>
<li>Definition is indented relative to the term</li>
<li>Blank lines are not allowed between term and it&#8217;s definition</li>
</ul>
</li>
</ul>
<dl class="docutils">
<dt>what</dt>
<dd>Definition lists associate a term with a definition.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="tables">
<h3>Tables<a class="headerlink" href="#tables" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Simple Tables<ul>
<li>Each line is a row.</li>
<li>The table ends with ~=~</li>
<li>Column Header is specified by using ~=~</li>
<li>Cells may span columns; ~-~ is used to specify cells spanning columns.</li>
</ul>
</li>
</ul>
</div></blockquote>
<div class="highlight-python"><pre>============ ============ ===========
 Header 1     Header 2     Header 3
============ ============ ===========
 body row 1   column 2     column 3
 body row 2   Cells may span columns.
------------ ------------------------
 body row 3   column 2     column 3
============ ============ ===========</pre>
</div>
</div>
<div class="section" id="id3">
<h3>Tables...<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="grid-tables">
<h3>Grid Tables<a class="headerlink" href="#grid-tables" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>+------------+------------+-----------+
| Header 1   | Header 2   | Header 3  |
+============+============+===========+
  body row 1   column 2     column 3
+------------+------------+-----------+
  body row 2   Cells may span columns.
+------------+------------+-----------+
  body row 3   Cells may    - Cells
+------------+ span rows.   - contain
  body row 4                - blocks.
+------------+------------+-----------+</pre>
</div>
</div>
<div class="section" id="links">
<h3>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">External links</p>
<p><a class="reference external" href="http://www.python.org/">Python</a> is my favorite programming language.</p>
</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li>Internal links<ul>
<li>To generate a link target, add a label to the location</li>
</ul>
</li>
</ul>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>This is an <a class="reference external" href="*Titles&amp;Sectionheadingsautomaticallyproducelinktargets(inReST)*LinkingtoTarget+inReST::">example</a> link.
A Title
=======</p>
<p><a href="#id4"><span class="problematic" id="id5">`A Title`_</span></a> automatically generates hyperlink targets.</p>
</div></blockquote>
<ul>
<li><p class="first">in Sphinx</p>
<div class="highlight-python"><pre>:ref: `This is an example &lt;example&gt;` link.
This is an :ref: `example` link.</pre>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="footnotes">
<h3>Footnotes<a class="headerlink" href="#footnotes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>This[#]_ gives auto-numbered[#]_ footnotes.

This[*]_ gives auto-symbol footnotes[*]_.

.. [#] First auto numbered footnote
.. [#] Second auto numbered footnote
.. [*] First auto symbol footnote
.. [*] Second auto symbol footnote</pre>
</div>
</div>
<div class="section" id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>An Introduction to reStructured Text &#8211; David Goodger</li>
<li>Quick reStructuredText</li>
<li>reStructuredText&#8211; Bits and Pieces &#8211; Christoph Reller</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Consider the iteration <math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><msub><mi>x</mi>
<mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>f</mi><mo>(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>)</mo></mrow></math> where
<math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mi>f</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><mi>k</mi><mi>x</mi><mo>(</mo><mn>1</mn><mo>-</mo><mi>x</mi><mo>)</mo></mrow></math> Plot the successive iterates of this
process.</li>
<li>Plot this using a cobweb plot as follows:<ol class="arabic">
<li>Start at <math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mo>(</mo><msub><mi>x</mi><mn>0</mn></msub><mo>,</mo><mn>0</mn><mo>)</mo></mrow></math></li>
<li>Draw line to <math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><mi>f</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>)</mo><mo>)</mo></mrow></math>;</li>
<li>Set <math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><msub><mi>x</mi>
<mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>f</mi><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>)</mo></mrow></math></li>
<li>Draw line to <math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mo>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>)</mo></mrow></math></li>
<li>Repeat from 2 for as long as you want</li>
</ol>
</li>
<li>Plot the Koch snowflake. Write a function to generate the necessary
points given the two points constituting a line.<ol class="arabic">
<li>Split the line into 4 segments.</li>
<li>The first and last segments are trivial.</li>
<li>To rotate the point you can use complex numbers, recall that
<math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mi>z</mi><msup><mi>e</mi>
<mrow><mi>j</mi><mi>θ</mi></mrow></msup></mrow></math> rotates a point <math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mi>z</mi></mrow></math> in 2D by
<math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><mi>θ</mi></mrow></math>.</li>
<li>Do this for all line segments till everything is done.</li>
</ol>
</li>
<li>Show rate of convergence for a first and second order finite
difference of sin(x)</li>
<li>Given, the position of a projectile in in <a class="reference download internal" href="_downloads/pos.txt"><tt class="xref download docutils literal"><span class="pre">pos.txt</span></tt></a> plot it&#8217;s
trajectory.<ul>
<li>Label both the axes.</li>
<li>What kind of motion is this?</li>
<li>Title the graph accordingly.</li>
<li>Annotate the position where vertical velocity is zero.</li>
</ul>
</li>
<li>Write a Program that plots a regular n-gon(Let n = 5).</li>
<li>Create a sequence of images in which the damped oscillator
(<math xmlns="http://www.w3.org/1998/Math/MathML">
<mrow><msup><mi>e</mi>
<mrow><mo>-</mo><mi>x</mi><mo>/</mo><mn>1</mn><mn>0</mn></mrow></msup><mi>s</mi><mi>i</mi><mi>n</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></math>) slowly evolves over time.</li>
<li>Given a list of numbers, find all the indices at which 1 is present.
numbers = [1, 1, 3, 4, 3, 6, 7, 8, 1, 2, 4, 1]</li>
<li>Given a list of numbers, find all the indices at which 1 is present.
numbers = [1, 1, 3, 4, 3, 6, 7, 8, 1, 2, 4, 1]. Solve the problem using a
functional approach.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
  </body>
</html>